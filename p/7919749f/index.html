<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/resource/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/resource/favicon-32x32.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/resource/favicon-16x16.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/resource/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="看破Linux,">





  <link rel="alternate" href="/atom.xml" title="NiTaogeTech" type="application/atom+xml">






<meta name="description" content="Linux中一切皆文件，所有命令也都是可执行文件，而且有Shell内建命令和其他命令之分。在执行命令时，linux会在当前shell内部寻找命令，如果没有，再到配置的环境变量PATH中逐一目录找，并将命令和路径映射到当前用户的命令哈希表，以减少循迹操作。1234567# echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/dis">
<meta name="keywords" content="看破Linux">
<meta property="og:type" content="article">
<meta property="og:title" content="看破Linux 1.从命令入手">
<meta property="og:url" content="http://tech.nitaoge.com/p/7919749f/index.html">
<meta property="og:site_name" content="NiTaogeTech">
<meta property="og:description" content="Linux中一切皆文件，所有命令也都是可执行文件，而且有Shell内建命令和其他命令之分。在执行命令时，linux会在当前shell内部寻找命令，如果没有，再到配置的环境变量PATH中逐一目录找，并将命令和路径映射到当前用户的命令哈希表，以减少循迹操作。1234567# echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/dis">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-05-16T13:14:31.555Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="看破Linux 1.从命令入手">
<meta name="twitter:description" content="Linux中一切皆文件，所有命令也都是可执行文件，而且有Shell内建命令和其他命令之分。在执行命令时，linux会在当前shell内部寻找命令，如果没有，再到配置的环境变量PATH中逐一目录找，并将命令和路径映射到当前用户的命令哈希表，以减少循迹操作。1234567# echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/dis">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://tech.nitaoge.com/p/7919749f/">





  <title>看破Linux 1.从命令入手 | NiTaogeTech</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/NiTaogeTech" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">NiTaogeTech</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Focus on Java, BD and Linux. </p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-看破红尘">
          <a href="/p/note666" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-wheelchair-alt"></i> <br>
            
            看破红尘
          </a>
        </li>
      
        
        <li class="menu-item menu-item-看破springcloud">
          <a href="/categories/springcloud" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-coffee"></i> <br>
            
            看破SpringCloud
          </a>
        </li>
      
        
        <li class="menu-item menu-item-看破mysql">
          <a href="/categories/mysql" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-server"></i> <br>
            
            看破MySQL
          </a>
        </li>
      
        
        <li class="menu-item menu-item-看破redis">
          <a href="/categories/redis" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-database"></i> <br>
            
            看破Redis
          </a>
        </li>
      
        
        <li class="menu-item menu-item-看破kafka">
          <a href="/categories/kafka" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-cubes"></i> <br>
            
            看破Kafka
          </a>
        </li>
      
        
        <li class="menu-item menu-item-看破docker">
          <a href="/categories/docker" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-cogs"></i> <br>
            
            看破Docker
          </a>
        </li>
      
        
        <li class="menu-item menu-item-标签">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://tech.nitaoge.com/p/7919749f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="中华郑六">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/resource/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NiTaogeTech">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">看破Linux 1.从命令入手</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-13T07:22:43+08:00">
                2019-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/p/7919749f/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="p/7919749f/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-eye"></i> 热度
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>℃
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数&#58;</span>
                
                <span title="字数">
                  15.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">时长 &asymp;</span>
                
                <span title="时长">
                  62
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Linux中一切皆文件，所有命令也都是可执行文件，而且有Shell内建命令和其他命令之分。<br>在执行命令时，linux会在当前shell内部寻找命令，如果没有，再到配置的环境变量PATH中逐一目录找，并将命令和路径映射到当前用户的命令哈希表，以减少循迹操作。<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># echo $PATH</span></span><br><span class="line">/usr/local/<span class="symbol">sbin:</span>/usr/local/<span class="symbol">bin:</span>/usr/<span class="symbol">sbin:</span>/usr/<span class="symbol">bin:</span>/disk1/<span class="class"><span class="keyword">lib</span>/<span class="title">jdk1</span>.8.0<span class="title">_201</span>/<span class="title">bin</span>:/<span class="title">root</span>/<span class="title">bin</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hash</span></span><br><span class="line">命中	命令</span><br><span class="line">   <span class="number">1</span>	/usr/bin/cat</span><br><span class="line">   <span class="number">3</span>	/usr/bin/who</span><br></pre></td></tr></table></figure></p>
<h1 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h1><h2 id="重启-关机"><a href="#重启-关机" class="headerlink" title="重启/关机"></a>重启/关机</h2><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">重启</span><br><span class="line"><span class="meta"># shutdown -r</span></span><br><span class="line"><span class="meta"># reboot</span></span><br><span class="line"><span class="meta"># init 6</span></span><br><span class="line">关机（默认一分钟后）</span><br><span class="line"><span class="meta"># shutdown</span></span><br><span class="line">立即关机</span><br><span class="line"><span class="meta"># shutdown now</span></span><br><span class="line"><span class="meta"># init 0</span></span><br><span class="line">关闭系统，不关闭电源</span><br><span class="line"><span class="meta"># shutdown -H</span></span><br><span class="line"><span class="meta"># halt</span></span><br><span class="line">切断电源</span><br><span class="line"><span class="meta"># shutdown -P</span></span><br><span class="line"><span class="meta"># poweroff</span></span><br><span class="line">定时操作</span><br><span class="line"><span class="meta"># shutdown 23:00       </span></span><br><span class="line"><span class="meta"># shutdown -r 23:00 </span></span><br><span class="line">执行关机前，取消关机操作</span><br><span class="line"><span class="meta"># shutdown -c</span></span><br></pre></td></tr></table></figure>
<h2 id="man（查看帮助手册）"><a href="#man（查看帮助手册）" class="headerlink" title="man（查看帮助手册）"></a>man（查看帮助手册）</h2><p>man [命令]</p>
<h2 id="enable（启用或禁用内部命令）"><a href="#enable（启用或禁用内部命令）" class="headerlink" title="enable（启用或禁用内部命令）"></a>enable（启用或禁用内部命令）</h2><p>enable: 用法:enable [-a] [-dnps] [-f 文件名] [名称 …]</p>
<p>-n：关闭指定的内部命令；<br>-a：显示所有激活的内部命令；<br>-f：从指定文件中读取内部命令。</p>
<p>bash内部命令数量<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">enable</span> -p  | wc -l</span></span><br><span class="line">61</span><br></pre></td></tr></table></figure></p>
<h2 id="type-whereis-which（命令文件所在路径）"><a href="#type-whereis-which（命令文件所在路径）" class="headerlink" title="type/whereis/which（命令文件所在路径）"></a>type/whereis/which（命令文件所在路径）</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type kill</span></span><br><span class="line">kill 是 shell 内嵌</span><br><span class="line"></span><br><span class="line"><span class="comment"># whereis tree</span></span><br><span class="line">tree: <span class="regexp">/usr/</span>bin<span class="regexp">/tree /u</span>sr<span class="regexp">/share/m</span>an<span class="regexp">/man1/</span>tree.<span class="number">1</span>.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># which tree</span></span><br><span class="line"><span class="regexp">/usr/</span>bin<span class="regexp">/tree</span></span><br></pre></td></tr></table></figure>
<h2 id="alias-unalias（设置-取消命令别名）"><a href="#alias-unalias（设置-取消命令别名）" class="headerlink" title="alias/unalias（设置/取消命令别名）"></a>alias/unalias（设置/取消命令别名）</h2><p>alias [名称[=值] … ]<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># alias</span></span><br><span class="line"><span class="keyword">alias</span> cp='cp -i'</span><br><span class="line"><span class="keyword">alias</span> egrep='egrep <span class="params">--color=auto</span>'</span><br><span class="line"><span class="keyword">alias</span> fgrep='fgrep <span class="params">--color=auto</span>'</span><br><span class="line"><span class="keyword">alias</span> grep='grep <span class="params">--color=auto</span>'</span><br><span class="line"><span class="keyword">alias</span> l.='<span class="keyword">ls</span> -d .* <span class="params">--color=auto</span>'</span><br><span class="line"><span class="keyword">alias</span> ll='<span class="keyword">ls</span> -l <span class="params">--color=auto</span>'</span><br><span class="line"><span class="keyword">alias</span> <span class="keyword">ls</span>='<span class="keyword">ls</span> <span class="params">--color=auto</span>'</span><br><span class="line"><span class="keyword">alias</span> mv='mv -i'</span><br><span class="line"><span class="keyword">alias</span> rm='rm -i'</span><br><span class="line"><span class="keyword">alias</span> which='<span class="keyword">alias</span> | <span class="string">/usr/bin/which</span> <span class="params">--tty-only</span> <span class="params">--read-alias</span> <span class="params">--show-dot</span> <span class="params">--show-tilde</span>'</span><br><span class="line"></span><br><span class="line"><span class="comment"># alias showdir="ls -lah -tu"</span></span><br><span class="line"><span class="comment"># showdir</span></span><br><span class="line">总用量 56K</span><br><span class="line">-rw<span class="params">-------</span>.  1 root root 9.4K 4月  30 17<span class="function">:42</span> <span class="string">.bash_history</span></span><br><span class="line">drwxr-xr-x   2 root root   46 4月  30 17<span class="function">:18</span> temp</span><br><span class="line">dr-xr-x<span class="params">---</span>.  6 root root  229 4月  30 16<span class="function">:55</span> .</span><br><span class="line">drwxr-xr-x.  2 root root   29 4月  30 16<span class="function">:40</span> <span class="string">.ssh</span></span><br><span class="line">drwxr-xr-x.  3 root root   18 4月  30 16<span class="function">:40</span> <span class="string">.cache</span></span><br><span class="line">drwxr-xr-x.  3 root root   18 4月  30 16<span class="function">:40</span> <span class="string">.config</span></span><br><span class="line">-rw-r<span class="params">--r--</span>   1 root root 1.9K 4月  30 16<span class="function">:32</span> file</span><br><span class="line">-rw-r<span class="params">--r--</span>.  1 root root  176 4月  30 14<span class="function">:14</span> <span class="string">.bash_profile</span></span><br><span class="line">-rw-r<span class="params">--r--</span>.  1 root root  176 4月  30 14<span class="function">:14</span> <span class="string">.bashrc</span></span><br><span class="line">-rw-r<span class="params">--r--</span>.  1 root root   18 4月  30 14<span class="function">:14</span> <span class="string">.bash_logout</span></span><br><span class="line">-rw<span class="params">-------</span>   1 root root 8.6K 4月  30 13<span class="function">:11</span> <span class="string">.viminfo</span></span><br><span class="line">-rw-r<span class="params">--r--</span>   1 root root    7 4月  30 10<span class="function">:31</span> <span class="string">.exrc</span></span><br><span class="line">dr-xr-xr-x. 18 root root  237 4月  30 10<span class="function">:31</span> <span class="string">..</span></span><br><span class="line">-rw-r<span class="params">--r--</span>.  1 root root  100 4月  29 10<span class="function">:06</span> <span class="string">.cshrc</span></span><br><span class="line">-rw<span class="params">-------</span>.  1 root root 1.6K 4月  26 19<span class="function">:19</span> anaconda-ks.cfg</span><br><span class="line">-rw-r<span class="params">--r--</span>.  1 root root  129 12月 29 2013 <span class="string">.tcshrc</span></span><br></pre></td></tr></table></figure></p>
<p>unalias [-a] 名称 [名称 …]<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-<span class="selector-tag">a</span> 取消所有命令别名</span><br></pre></td></tr></table></figure></p>
<h2 id="date（显示或设置时间）"><a href="#date（显示或设置时间）" class="headerlink" title="date（显示或设置时间）"></a>date（显示或设置时间）</h2><p>date [选项]… [+格式]<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">s 设置时间</span></span><br><span class="line"><span class="ruby">-d 显示指定的描述时间</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">格式如下：</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">  <span class="string">%%	一个文字的 %</span></span></span><br><span class="line"><span class="ruby">  %a	当前locale 的星期名缩写(例如： 日，代表星期日)</span></span><br><span class="line"><span class="ruby">  %A	当前locale 的星期名全称 (如：星期日)</span></span><br><span class="line"><span class="ruby">  %b	当前locale 的月名缩写 (如：一，代表一月)</span></span><br><span class="line"><span class="ruby">  %B	当前locale 的月名全称 (如：一月)</span></span><br><span class="line"><span class="ruby">  %c	当前locale 的日期和时间 (如：<span class="number">2005</span>年<span class="number">3</span>月<span class="number">3</span>日 星期四 <span class="number">23</span><span class="symbol">:</span><span class="number">05</span><span class="symbol">:</span><span class="number">25</span>)</span></span><br><span class="line"><span class="ruby">  %C	世纪；比如 %Y，通常为省略当前年份的后两位数字(例如：<span class="number">20</span>)</span></span><br><span class="line"><span class="ruby">  %d	按月计的日期(例如：<span class="number">01</span>)</span></span><br><span class="line"><span class="ruby">  %D	按月计的日期；等于%m/%d/%y</span></span><br><span class="line"><span class="ruby">  %e	按月计的日期，添加空格，等于%_d</span></span><br><span class="line"><span class="ruby">  %F	完整日期格式，等价于 %Y-%m-%d</span></span><br><span class="line"><span class="ruby">  %g	ISO-<span class="number">8601</span> 格式年份的最后两位 (参见%G)</span></span><br><span class="line"><span class="ruby">  %G	ISO-<span class="number">8601</span> 格式年份 (参见%V)，一般只和 %V 结合使用</span></span><br><span class="line"><span class="ruby">  %h	等于%b</span></span><br><span class="line"><span class="ruby">  %H	小时(<span class="number">00</span>-<span class="number">23</span>)</span></span><br><span class="line"><span class="ruby">  %I	小时(<span class="number">00</span>-<span class="number">12</span>)</span></span><br><span class="line"><span class="ruby">  %j	按年计的日期(<span class="number">001</span>-<span class="number">366</span>)</span></span><br><span class="line"><span class="ruby">  %k   hour, space padded ( <span class="number">0</span>..<span class="number">23</span>); same as %_H</span></span><br><span class="line"><span class="ruby">  %l   hour, space padded ( <span class="number">1</span>..<span class="number">12</span>); same as %_I</span></span><br><span class="line"><span class="ruby">  %m   month (<span class="number">01</span>..<span class="number">12</span>)</span></span><br><span class="line"><span class="ruby">  %M   minute (<span class="number">00</span>..<span class="number">59</span>)</span></span><br><span class="line"><span class="ruby">  %n	换行</span></span><br><span class="line"><span class="ruby">  %N	纳秒(<span class="number">000000000</span>-<span class="number">999999999</span>)</span></span><br><span class="line"><span class="ruby">  %p	当前locale 下的<span class="string">"上午"</span>或者<span class="string">"下午"</span>，未知时输出为空</span></span><br><span class="line"><span class="ruby">  %P	与%p 类似，但是输出小写字母</span></span><br><span class="line"><span class="ruby">  %r	当前locale 下的 <span class="number">12</span> 小时时钟时间 (如：<span class="number">11</span><span class="symbol">:</span><span class="number">11</span><span class="symbol">:</span><span class="number">04</span> 下午)</span></span><br><span class="line"><span class="ruby">  %R	<span class="number">24</span> 小时时间的时和分，等价于 %<span class="symbol">H:</span>%M</span></span><br><span class="line"><span class="ruby">  %s	自UTC 时间 <span class="number">1970</span>-<span class="number">01</span>-<span class="number">01</span> <span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span> 以来所经过的秒数</span></span><br><span class="line"><span class="ruby">  %S	秒(<span class="number">00</span>-<span class="number">60</span>)</span></span><br><span class="line"><span class="ruby">  %t	输出制表符 Tab</span></span><br><span class="line"><span class="ruby">  %T	时间，等于%<span class="symbol">H:</span>%<span class="symbol">M:</span>%S</span></span><br><span class="line"><span class="ruby">  %u	星期，<span class="number">1</span> 代表星期一</span></span><br><span class="line"><span class="ruby">  %U	一年中的第几周，以周日为每星期第一天(<span class="number">00</span>-<span class="number">53</span>)</span></span><br><span class="line"><span class="ruby">  %V	ISO-<span class="number">8601</span> 格式规范下的一年中第几周，以周一为每星期第一天(<span class="number">01</span>-<span class="number">53</span>)</span></span><br><span class="line"><span class="ruby">  %w	一星期中的第几日(<span class="number">0</span>-<span class="number">6</span>)，<span class="number">0</span> 代表周一</span></span><br><span class="line"><span class="ruby">  %W	一年中的第几周，以周一为每星期第一天(<span class="number">00</span>-<span class="number">53</span>)</span></span><br><span class="line"><span class="ruby">  %x	当前locale 下的日期描述 (如：<span class="number">12</span>/<span class="number">31</span>/<span class="number">99</span>)</span></span><br><span class="line"><span class="ruby">  %X	当前locale 下的时间描述 (如：<span class="number">23</span><span class="symbol">:</span><span class="number">13</span><span class="symbol">:</span><span class="number">48</span>)</span></span><br><span class="line"><span class="ruby">  %y	年份最后两位数位 (<span class="number">00</span>-<span class="number">99</span>)</span></span><br><span class="line"><span class="ruby">  %Y	年份</span></span><br><span class="line"><span class="ruby">  %z +hhmm		数字时区(例如，-<span class="number">0400</span>)</span></span><br><span class="line"><span class="ruby">  %<span class="symbol">:z</span> +<span class="symbol">hh:</span>mm		数字时区(例如，-<span class="number">04</span><span class="symbol">:</span><span class="number">00</span>)</span></span><br><span class="line"><span class="ruby">  %<span class="symbol">:</span><span class="symbol">:z</span> +<span class="symbol">hh:</span><span class="symbol">mm:</span>ss	数字时区(例如，-<span class="number">04</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span>)</span></span><br><span class="line"><span class="ruby">  %<span class="symbol">:</span><span class="symbol">:</span><span class="symbol">:z</span>			数字时区带有必要的精度 (例如，-<span class="number">04</span>，+<span class="number">05</span><span class="symbol">:</span><span class="number">30</span>)</span></span><br><span class="line"><span class="ruby">  %Z			按字母表排序的时区缩写 (例如，EDT)</span></span><br></pre></td></tr></table></figure></p>
<p>例如：<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr"># date -d "2</span> days ago<span class="string">" +"</span><span class="meta">%</span>Y-<span class="meta">%</span>m-<span class="meta">%</span>d <span class="meta">%</span>H:<span class="meta">%</span>M:<span class="meta">%</span>S<span class="string">"</span></span><br><span class="line"><span class="string">2019-02-11 10:32:15</span></span><br></pre></td></tr></table></figure></p>
<h1 id="文件及目录相关命令"><a href="#文件及目录相关命令" class="headerlink" title="文件及目录相关命令"></a>文件及目录相关命令</h1><h2 id="ls（查看目录内容）"><a href="#ls（查看目录内容）" class="headerlink" title="ls（查看目录内容）"></a>ls（查看目录内容）</h2><p>ls [选项]… [文件]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-l 显示文件及子目录详细信息</span></span><br><span class="line"><span class="deletion">-o 不显示组，显示其他详细信息</span></span><br><span class="line"><span class="deletion">-d 只显示目录</span></span><br><span class="line"><span class="deletion">-a 显示所有包括隐藏的文件及子目录</span></span><br><span class="line"><span class="deletion">-h 友好显示文件大小</span></span><br><span class="line"><span class="deletion">-i 显示inode号</span></span><br><span class="line"><span class="deletion">-s 显示文件块大小 </span></span><br><span class="line"><span class="deletion">-S 按文件块大小倒序排序</span></span><br><span class="line"><span class="deletion">-tu 以访问时间倒序排序</span></span><br><span class="line"><span class="deletion">-r 反向排序</span></span><br><span class="line"><span class="deletion">-R 列出所有子目录下的文件</span></span><br><span class="line"><span class="deletion">-m 显示逗号分隔符</span></span><br><span class="line"><span class="deletion">-Q 用双引号引起来</span></span><br></pre></td></tr></table></figure></p>
<h2 id="pwd（查看当前bash所在目录）"><a href="#pwd（查看当前bash所在目录）" class="headerlink" title="pwd（查看当前bash所在目录）"></a>pwd（查看当前bash所在目录）</h2><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pwd</span></span><br><span class="line"><span class="string">/root</span></span><br></pre></td></tr></table></figure>
<h2 id="cd（切换目录）"><a href="#cd（切换目录）" class="headerlink" title="cd（切换目录）"></a>cd（切换目录）</h2><p>cd [目录]<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">切换到根目录</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /</span></span><br><span class="line">切换到家目录</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ~</span></span><br><span class="line">切换到指定用户的家目录</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ~user</span></span><br><span class="line">切换到上级目录</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> ..</span></span><br></pre></td></tr></table></figure></p>
<h2 id="mkdir（创建目录）"><a href="#mkdir（创建目录）" class="headerlink" title="mkdir（创建目录）"></a>mkdir（创建目录）</h2><p>mkdir [选项]… 目录…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-m 设置目录权限</span> <span class="deletion">-p 强制创建没有的目录</span></span><br><span class="line"><span class="deletion">-v 显示创建信息</span></span><br></pre></td></tr></table></figure></p>
<h2 id="mktemp（创建临时文件-目录）"><a href="#mktemp（创建临时文件-目录）" class="headerlink" title="mktemp（创建临时文件/目录）"></a>mktemp（创建临时文件/目录）</h2><p>mktemp [选项]… [TEMPLATE].XX…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-d 创建一个临时目录而非文件</span></span><br><span class="line"><span class="deletion">-p 指定目录下创建</span></span><br><span class="line"><span class="deletion">-u 不创建任何东西，仅打印出名字。(仅供测试)</span></span><br><span class="line"><span class="deletion">-q 不显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="cp（复制）"><a href="#cp（复制）" class="headerlink" title="cp（复制）"></a>cp（复制）</h2><p>cp [选项]… 源文件 目标文件<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">a 与<span class="string">"-dpR"</span>效果相同</span></span><br><span class="line"><span class="ruby">-d 复制软链接时使用，否则复制的是指向文件</span></span><br><span class="line"><span class="ruby">-f 强制覆盖</span></span><br><span class="line"><span class="ruby">-i 覆盖前询问</span></span><br><span class="line"><span class="ruby">-p 保留源文件或目录的属性</span></span><br><span class="line"><span class="ruby">-r 递归处理，将指定目录下的所有文件与子目录一并处理</span></span><br><span class="line"><span class="ruby">-l 对源文件建立硬连接，而非复制文件</span></span><br><span class="line"><span class="ruby">-s 对源文件建立软连接，而非复制文件</span></span><br><span class="line"><span class="ruby">-u 当源文件的更改时间比目标文件更新，或目标文件不存在时，才覆盖或复制文件</span></span><br><span class="line"><span class="ruby">-b 覆盖目标文件前将其备份</span></span><br><span class="line"><span class="ruby">-S&lt;字符串&gt; 备份文件时，用指定后缀代替默认后缀~</span></span><br><span class="line"><span class="ruby">-v 显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="mv（移动）"><a href="#mv（移动）" class="headerlink" title="mv（移动）"></a>mv（移动）</h2><p>mv [选项]… 源文件 目标文件<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-f 强制覆盖</span></span><br><span class="line"><span class="deletion">-i 覆盖前询问</span></span><br><span class="line"><span class="deletion">-u 当源文件的更改时间比目标文件更新，或目标文件不存在时，才覆盖或移动文件</span></span><br><span class="line"><span class="deletion">-b 覆盖目标文件前将其备份</span></span><br><span class="line"><span class="deletion">-S&lt;字符串&gt; 备份文件时，用指定后缀代替默认后缀~</span></span><br><span class="line"><span class="deletion">-v 显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="rm（删除）"><a href="#rm（删除）" class="headerlink" title="rm（删除）"></a>rm（删除）</h2><p>rm [选项]… 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-d：删除空目录</span></span><br><span class="line"><span class="deletion">-f：强制删除文件或目录</span></span><br><span class="line"><span class="deletion">-i：删除已有文件或目录之前先询问用户</span></span><br><span class="line"><span class="deletion">-r：递归处理，将指定目录下的所有文件与子目录一并处理</span></span><br><span class="line"><span class="deletion">-v：显示指令的详细执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="split（切分文档）"><a href="#split（切分文档）" class="headerlink" title="split（切分文档）"></a>split（切分文档）</h2><p>split [选项]… [源文件] [切分结果前缀]<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-b&lt;文件大小&gt; 切分每个文件的大小，单位：1b(块，512字节) 1K 1M 1G 1T</span></span><br><span class="line"><span class="deletion">-C&lt;文件大小&gt; 切分每个文件的大小，尽量保证行完整</span></span><br><span class="line"><span class="deletion">-n&lt;个数&gt; 平均切分成N个文件</span></span><br><span class="line"><span class="deletion">-e 使用-n时，别切分出空文件</span></span><br><span class="line"><span class="deletion">-l&lt;行数&gt; 按行切分源文件。</span></span><br><span class="line"><span class="deletion">-a 指定切分结果命名序列的长度，默认是2</span></span><br><span class="line"><span class="deletion">-d 使用数字序列为切分结果命名，默认是字母</span></span><br><span class="line"><span class="deletion">--verbose 显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="file（识别文件类型）"><a href="#file（识别文件类型）" class="headerlink" title="file（识别文件类型）"></a>file（识别文件类型）</h2><p>file [OPTION…] [FILE…]<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-b 列出文件类型，不显示文件名</span></span><br><span class="line"><span class="deletion">-c 详细显示指令执行过程，便于排错或分析程序执行的情形</span></span><br><span class="line"><span class="deletion">-f&lt;名称文件&gt; 指定名称文件，其内容有一个或多个文件名称时，让file依序辨识这些文件，格式为每列一个文件名称</span></span><br><span class="line"><span class="deletion">-L 直接显示符号连接指向文件的文件类别</span></span><br><span class="line"><span class="deletion">-z 尝试去解读压缩文件的内容</span></span><br></pre></td></tr></table></figure></p>
<h2 id="stat（显示文件状态信息）"><a href="#stat（显示文件状态信息）" class="headerlink" title="stat（显示文件状态信息）"></a>stat（显示文件状态信息）</h2><p>stat [选项]… 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-L：支持符号连接</span></span><br><span class="line"><span class="deletion">-f：显示文件系统状态而非文件状态</span></span><br><span class="line"><span class="deletion">-t：以简洁方式输出信息</span></span><br></pre></td></tr></table></figure></p>
<p>访问时间（access读文件的时间）<br>修改时间（modify改文件内容的时间）<br>改变时间（change修改文件属性时间）</p>
<h2 id="touch（改变访问-修改时间）"><a href="#touch（改变访问-修改时间）" class="headerlink" title="touch（改变访问/修改时间）"></a>touch（改变访问/修改时间）</h2><p>文件不存在则创建。<br>touch [选项]… 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-a 只更改访问时间。</span></span><br><span class="line"><span class="deletion">-m 只更改修改时间。</span></span><br><span class="line"><span class="deletion">-c 不创建任何文件。</span></span><br><span class="line"><span class="deletion">-d &lt;时间日期&gt; 使用指定的日期时间，而非现在的时间。</span></span><br><span class="line"><span class="deletion">-r &lt;参考文件或目录&gt; 把指定文件或目录的日期时间，设成和参考文件或目录的日期时间</span></span><br><span class="line"><span class="deletion">-t &lt;Pattern YYMMDDhhmm[.ss]&gt;改变访问/修改时间为指定时间</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ln（链接）"><a href="#ln（链接）" class="headerlink" title="ln（链接）"></a>ln（链接）</h2><p>首先分析软硬链接的区别。<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dd if=/dev/zero of=origin-file count=4096 bs=1M</span></span><br><span class="line">记录了4096+0 的读入</span><br><span class="line">记录了4096+0 的写出</span><br><span class="line">4294967296字节(4.3 GB)已复制，1.6479 秒，2.6 GB/秒</span><br><span class="line"></span><br><span class="line"><span class="comment"># ll -ih</span></span><br><span class="line">总用量 4.0G</span><br><span class="line">67639869 -rw-r--r--<span class="number"> 1 </span>root root 4.0G 5月  <span class="number"> 1 </span>10:28 origin-file</span><br><span class="line"></span><br><span class="line"><span class="comment"># df</span></span><br><span class="line">文件系统           1K-块    已用      可用 已用% 挂载点</span><br><span class="line">/dev/sda1      <span class="number"> 41921540 </span>5716328 <span class="number"> 36205212 </span>  14% /</span><br><span class="line"></span><br><span class="line"><span class="comment"># ln origin-fie hard</span></span><br><span class="line"><span class="comment"># ll -ih</span></span><br><span class="line">总用量 8.0G</span><br><span class="line">67639869 -rw-r--r--<span class="number"> 2 </span>root root 4.0G 5月  <span class="number"> 1 </span>10:28 hard</span><br><span class="line">67639869 -rw-r--r--<span class="number"> 2 </span>root root 4.0G 5月  <span class="number"> 1 </span>10:28 origin-file</span><br><span class="line"></span><br><span class="line"><span class="comment"># df</span></span><br><span class="line">文件系统           1K-块    已用      可用 已用% 挂载点</span><br><span class="line">/dev/sda1      <span class="number"> 41921540 </span>5716328 <span class="number"> 36205212 </span>  14% /</span><br><span class="line"></span><br><span class="line"><span class="comment"># ln -s origin-file soft</span></span><br><span class="line"><span class="comment"># ll -ih</span></span><br><span class="line">总用量 8.0G</span><br><span class="line">67639869 -rw-r--r--<span class="number"> 2 </span>root root 4.0G 5月  <span class="number"> 1 </span>10:28 hard</span><br><span class="line">67639869 -rw-r--r--<span class="number"> 2 </span>root root 4.0G 5月  <span class="number"> 1 </span>10:28 origin-file</span><br><span class="line">67639874 lrwxrwxrwx<span class="number"> 1 </span>root root  <span class="number"> 11 </span>5月  <span class="number"> 1 </span>12:06 soft -&gt; origin-file</span><br><span class="line"></span><br><span class="line"><span class="comment"># df</span></span><br><span class="line">文件系统           1K-块    已用      可用 已用% 挂载点</span><br><span class="line">/dev/sda1      <span class="number"> 41921540 </span>5716328 <span class="number"> 36205212 </span>  14% /</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># rm -rf origin-file</span></span><br><span class="line"><span class="comment"># less hard</span></span><br><span class="line">"hard" may be a binary file.  See it anyway?</span><br><span class="line"></span><br><span class="line"><span class="comment"># less soft</span></span><br><span class="line">soft: 没有那个文件或目录</span><br></pre></td></tr></table></figure></p>
<p>结论：</p>
<p>inode：文件数据都储存在”块”中，inode储存文件的元信息，比如文件的创建者、文件的创建日期、文件的大小等等，中文译名为”索引节点”。</p>
<p>硬链接：inode相同，类似索引或引用变量，删除原文件或硬链接实际文件并未被删除，只有全部被删除时文件才被删除，不占用额外磁盘空间。</p>
<p>软链接（符号链接）：inode不同，类似快捷方式，指向指定绝对路径下的文件，删除源文件会使软链接失效，占用极少磁盘空间。</p>
<p>使用：<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">不指定 建立硬链接</span><br><span class="line"><span class="deletion">-s 建立软链接</span></span><br><span class="line"><span class="deletion">-f 强制覆盖</span></span><br><span class="line"><span class="deletion">-d 创建指向目录的硬链接(只适用于超级用户)</span></span><br><span class="line"><span class="deletion">-b 覆盖目标文件之前先备份，文件名结尾加~</span></span><br><span class="line"><span class="deletion">-S&lt;字尾备份字符串&gt; 指定备份结尾字符串</span></span><br><span class="line"><span class="deletion">-i 覆盖前询问</span></span><br><span class="line"><span class="deletion">-v 显示执行过程</span></span><br><span class="line"><span class="deletion">-n 把符号连接的目的目录视为一般文件</span></span><br></pre></td></tr></table></figure></p>
<h2 id="echo-（标准输出）"><a href="#echo-（标准输出）" class="headerlink" title="echo （标准输出）"></a>echo （标准输出）</h2><p>echo [选项]… 字符串…<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-n 不输出行尾的换行符</span><br><span class="line">-e 允许解释转义字符</span><br><span class="line">-E 禁止解释转义字符</span><br><span class="line"></span><br><span class="line">转义字符：</span><br><span class="line"><span class="string">\\</span>    反斜线</span><br><span class="line"><span class="string">\a</span>    报警符(BEL)</span><br><span class="line"><span class="string">\b</span>    退格符</span><br><span class="line"><span class="string">\c</span>    禁止尾随的换行符</span><br><span class="line"><span class="string">\f</span>    换页符</span><br><span class="line"><span class="string">\n</span>    换行符</span><br><span class="line"><span class="string">\r</span>    回车符</span><br><span class="line"><span class="string">\t</span>    水平制表符</span><br><span class="line"><span class="string">\v</span>    纵向制表符</span><br></pre></td></tr></table></figure></p>
<p>输出带颜色的字符串<br>格式： echo -e “\033[字背景颜色；文字颜色m 醒目字符串 \033[0m”</p>
<p>字体色：<br>   30m 黑色字<br>　　31m 红色字<br>　　32m 绿色字<br>　　33m 黄色字<br>　　34m 蓝色字<br>　　35m 紫色字<br>　　36m 天蓝字<br>　　37m 白色字</p>
<p>背景色：<br>    40m 黑底<br>    41m 红底<br>    42m 绿底<br>    43m 黄底<br>    44m 蓝底<br>    45m 紫底<br>    46m 天蓝底<br>    47m 白底黑</p>
<p>特效：<br>\033[0m 关闭所有属性<br>\033[1m 设置高亮度<br>\033[4m 下划线<br>\033[5m 闪烁<br>\033[7m 反显<br>\033[8m 消隐 </p>
<h2 id="cat（输出文件内容到标准输出）"><a href="#cat（输出文件内容到标准输出）" class="headerlink" title="cat（输出文件内容到标准输出）"></a>cat（输出文件内容到标准输出）</h2><p>cat [选项]… [文件]…<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">b 对非空行输出行编号</span></span><br><span class="line"><span class="ruby">-n 对所有行输出行编号</span></span><br><span class="line"><span class="ruby">-v 使用^ 和M- 引用，除了LFD和 TAB 之外（不知道什么作用）</span></span><br><span class="line"><span class="ruby">-E 在每行结束处显示$</span></span><br><span class="line"><span class="ruby">-T 将tab字符显示为^I</span></span><br><span class="line"><span class="ruby">-A 等于-vET</span></span><br><span class="line"><span class="ruby">-e 等于-vE</span></span><br><span class="line"><span class="ruby">-t 等于-vT</span></span><br><span class="line"><span class="ruby">-s 合并多空行为一行</span></span><br></pre></td></tr></table></figure></p>
<h2 id="more（分页显示查看文件）"><a href="#more（分页显示查看文件）" class="headerlink" title="more（分页显示查看文件）"></a>more（分页显示查看文件）</h2><p>more [选项] 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-d 显示友好提示</span></span><br><span class="line"><span class="deletion">-s 多个空行压缩为一行</span></span><br><span class="line"><span class="deletion">-c 每次翻页都清屏</span></span><br><span class="line"><span class="deletion">-10 每页只显示10行</span></span><br><span class="line"><span class="addition">+100 从100行开始显示</span></span><br><span class="line"><span class="addition">+/str 从第一次匹配str的结果处显示</span></span><br></pre></td></tr></table></figure></p>
<h2 id="head（输出文件的开始部分）"><a href="#head（输出文件的开始部分）" class="headerlink" title="head（输出文件的开始部分）"></a>head（输出文件的开始部分）</h2><p>head [选项] 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-c 输出开始的n个字节</span></span><br><span class="line"><span class="deletion">-n 输出开始的n行</span></span><br><span class="line"><span class="deletion">-q 第一行不显示文件名</span></span><br><span class="line"><span class="deletion">-v 第一行显示文件名</span></span><br></pre></td></tr></table></figure></p>
<h2 id="tail（输出文件的结尾部分）"><a href="#tail（输出文件的结尾部分）" class="headerlink" title="tail（输出文件的结尾部分）"></a>tail（输出文件的结尾部分）</h2><p>tail [选项] 文件…<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">c 输出最后的n个字节</span></span><br><span class="line"><span class="ruby">-n 输出最后的n行</span></span><br><span class="line"><span class="ruby">-f 持续输出文件内容</span></span><br><span class="line"><span class="ruby">--<span class="keyword">retry</span> 重复尝试打开文件，与-f合用有效</span></span><br><span class="line"><span class="ruby">--pid 在PID死掉之后结束输出，与-f合用有效</span></span><br><span class="line"><span class="ruby">-s 每次输出间隔秒数，与-f合用有效</span></span><br><span class="line"><span class="ruby">-q 第一行不显示文件名</span></span><br><span class="line"><span class="ruby">-v 第一行显示文件名</span></span><br></pre></td></tr></table></figure></p>
<h2 id="wc（输出文件中的行数、单词数、字节数）"><a href="#wc（输出文件中的行数、单词数、字节数）" class="headerlink" title="wc（输出文件中的行数、单词数、字节数）"></a>wc（输出文件中的行数、单词数、字节数）</h2><p>wc [选项] 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-c 输出字节统计数。</span></span><br><span class="line"><span class="deletion">-l 输出换行符统计数。</span></span><br><span class="line"><span class="deletion">-L 输出最长一行的长度。</span></span><br><span class="line"><span class="deletion">-w 输出单词统计数。</span></span><br></pre></td></tr></table></figure></p>
<h2 id="diff（逐行对比文件差异）"><a href="#diff（逐行对比文件差异）" class="headerlink" title="diff（逐行对比文件差异）"></a>diff（逐行对比文件差异）</h2><p>diff [选项]… FILES<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-c：显示全部内容，并标出不同之处；</span></span><br><span class="line"><span class="deletion">-b 忽略空格</span></span><br><span class="line"><span class="deletion">-B 忽略空行</span></span><br><span class="line"><span class="deletion">-i 忽略大小写</span></span><br><span class="line"><span class="deletion">-l 将结果交由pr程序来分页；</span></span><br><span class="line"><span class="deletion">-q 若有差异，仅显示：文件 file 和 file2 不同</span></span><br><span class="line"><span class="deletion">-s 若没有差异，仅显示：文件 file 和 file3 相同</span></span><br><span class="line"><span class="deletion">-r 比较目录</span></span><br></pre></td></tr></table></figure></p>
<h2 id="find（查找）"><a href="#find（查找）" class="headerlink" title="find（查找）"></a>find（查找）</h2><p>find [path…] [expression]<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">表达式运算符：</span><br><span class="line">( expr表达式 ) 加括号表示优先执行</span><br><span class="line">expr前加 ! ，注意有空格，表示否定，按相反规则查找</span><br><span class="line">expr1 expr2 表示与，如果expr1为false 则不会执行expr2</span><br><span class="line">expr1 -o expr2 表示或，如果expr1为true 则不会执行expr2</span><br><span class="line">expr1 , expr2 表示列表，expr1和expr2都会被执行。expr1的返回值被忽略，列表的最终返回值是expr2的值</span><br><span class="line"></span><br><span class="line">属性表达式：</span><br><span class="line">-<span class="ruby">name &lt;pattern * ? []&gt; 按名称匹配</span></span><br><span class="line"><span class="ruby">-iname &lt;pattern * ? []&gt; 按名称匹配，忽略大小写</span></span><br><span class="line"><span class="ruby">-lname &lt;pattern * ? []&gt; 按名称匹配软链接</span></span><br><span class="line"><span class="ruby">-ilname &lt;pattern * ? []&gt; 按名称匹配软链接，忽略大小写</span></span><br><span class="line"><span class="ruby">-links &lt;number&gt;：查找指定硬连接数数的文件/目录</span></span><br><span class="line"><span class="ruby">-regex &lt;pattern&gt; 按正则匹配</span></span><br><span class="line"><span class="ruby">-iregex &lt;pattern&gt; 按正则匹配，忽略大小写</span></span><br><span class="line"><span class="ruby">-path &lt;pattern * ? []&gt; 按路径匹配</span></span><br><span class="line"><span class="ruby">-ipath &lt;pattern * ? []&gt; 按路径匹配，忽略大小写</span></span><br><span class="line"><span class="ruby">-inum &lt;inode编号&gt; 按inode编号匹配</span></span><br><span class="line"><span class="ruby">-perm &lt;权限数值&gt; 查找指定权限数值的文件/目录</span></span><br><span class="line"><span class="ruby">-size [+<span class="regexp">/-]&lt;文件大小&gt;：查找指定文件大小的文件/</span>目录。+表示大于，-表示小于。单位：b 块（<span class="number">512</span>字节），c 字节，w 字（<span class="number">2</span>字节），k 千字节，M 兆字节，G 吉字节。</span></span><br><span class="line"><span class="ruby">-user &lt;String&gt; 查找属于xxx用户的文件/目录</span></span><br><span class="line"><span class="ruby">-uid &lt;number&gt; 查找属于UID用户的文件/目录</span></span><br><span class="line"><span class="ruby">-nouser：找出不属于本机用户的文件/目录</span></span><br><span class="line"><span class="ruby">-group &lt;String&gt; 查找属于xxx组的文件/目录</span></span><br><span class="line"><span class="ruby">-gid &lt;number&gt; 查找属于GID组的文件/目录</span></span><br><span class="line"><span class="ruby">-nogroup 找出不属于本机组的文件/目录</span></span><br><span class="line"><span class="ruby">-empty 查找空文件/目录</span></span><br><span class="line"><span class="ruby">-type &lt;一个文件类型编码&gt; 指定文件类型查找。文件类型编码：f 普通文件，l 符号链接，d 目录，b 特殊块文件（缓存的），c 特殊字符文件（不缓存），s 套接字，p 命名管道 (FIFO)</span></span><br><span class="line"><span class="ruby">-fstype &lt;一个文件系统类型&gt; 查找指定文件系统类型的文件/目录；</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">逻辑表达式：</span></span><br><span class="line"><span class="ruby">-prune：与-path合用，匹配结果中排除path指定目录下的内容。</span></span><br><span class="line"><span class="ruby">-<span class="literal">false</span> 将表达式返回值强制设为<span class="literal">false</span></span></span><br><span class="line"><span class="ruby">-<span class="literal">true</span> 将表达式返回值强制设为<span class="literal">true</span></span></span><br><span class="line"><span class="ruby">-exec &lt;command&gt; &#123;&#125; \;  若回传值为<span class="literal">true</span>，对匹配结果执行命令</span></span><br><span class="line"><span class="ruby">-ok &lt;command&gt; &#123;&#125; \;  与-exec类似，在执行命令之前先询问</span></span><br><span class="line"><span class="ruby">-depth 先处理子目录再处理目录本身</span></span><br><span class="line"><span class="ruby">-maxdepth &lt;number&gt; 设置查找最大目录层级</span></span><br><span class="line"><span class="ruby">-mindepth &lt;number&gt; 设置查找最小目录层级</span></span><br><span class="line"><span class="ruby">-xdev  不进入处于其他文件系统之上的目录</span></span><br><span class="line"><span class="ruby">-follow 不检索符号链接。隐含了 -noleaf。</span></span><br><span class="line"><span class="ruby">-noleaf 不为“目录中子目录数量比硬连接数少<span class="number">2</span>”这种假设做优化。这个选项在搜索那些不遵循UNIX文件系统链接约定的文件系统时用，比如CD-ROM,MS-DOS文件系统或AFS卷的加载点。在普通的UNIX文件系统中,每个目录至少有两个硬连接,它的名字和它的<span class="string">'.'</span>条目。另外，它的子目录(假如有)还会各有一个<span class="string">'..'</span>链接到它。在find检索一个目录时，发现子目录数比它的连接数少二时，它就知道目录中的其他条目并非目录(而是目录树中的叶(<span class="string">`leaf')节点)。除非需要检索的是这个叶节点，否则没必要去处理它。这样可以带来很大的搜索速度提升。</span></span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">输出表达式：</span></span><br><span class="line"><span class="ruby">-print 若返回值为<span class="literal">true</span>，列出文件/目录到标准输出，每个名称占一行</span></span><br><span class="line"><span class="ruby">-print<span class="number">0</span> 若返回值为<span class="literal">true</span>，列出文件/目录到标准输出，每个名称紧挨着不换行</span></span><br><span class="line"><span class="ruby">-printf &lt;输出格式&gt; 若返回值为<span class="literal">true</span>，按指定格式列出文件/目录到标准输出</span></span><br><span class="line"><span class="ruby">-fprint &lt;file&gt; 与-print类似，把结果输出到指定文件</span></span><br><span class="line"><span class="ruby">-fprint<span class="number">0</span> &lt;file&gt; 与-print<span class="number">0</span>类似，把结果输出到指定文件</span></span><br><span class="line"><span class="ruby">-fprintf &lt;file&gt; &lt;输出格式&gt; 与-printf类似，把结果输出到指定文件</span></span><br><span class="line"><span class="ruby">-ls 若返回值为<span class="literal">true</span>，详细列出文件/目录到标准输出</span></span><br><span class="line"><span class="ruby">-fls &lt;file&gt;：与-ls类似，把结果输出到指定文件</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">时间表达式：</span></span><br><span class="line"><span class="ruby">-atime &lt;number&gt; 对文件的最近一次访问是在n*<span class="number">24</span>小时之前</span></span><br><span class="line"><span class="ruby">-ctime &lt;number&gt; 对文件状态的最近一次修改是在n*<span class="number">24</span>小时之前</span></span><br><span class="line"><span class="ruby">-mtime &lt;number&gt; 对文件数据的最近一次修改是在n*<span class="number">24</span>小时之前</span></span><br><span class="line"><span class="ruby">-amin &lt;number&gt; 对文件的最近一次访问是在n分钟之前</span></span><br><span class="line"><span class="ruby">-cmin &lt;number&gt; 对文件状态的最近一次修改是在n分钟之前</span></span><br><span class="line"><span class="ruby">-mmin &lt;number&gt; 对文件数据的最近一次修改是在n分钟之前</span></span><br><span class="line"><span class="ruby">-daystart 从当日起始时开始而不是从<span class="number">24</span>小时之前，计算时间(<span class="keyword">for</span> -amin, -atime, -cmin, -ctime, -mmin, <span class="keyword">and</span> -mtime)</span></span><br><span class="line"><span class="ruby">-anewer &lt;file&gt; 对文件的最近一次访问比file修改时间要晚。如果命令行中-follow在-anewer之前，(也只有在这种情况下)-anewer会受-follow的影响</span></span><br><span class="line"><span class="ruby">-cnewer &lt;file&gt; 对文件状态的最近一次修改比file修改时间要晚。如果命令行中-follow在-cnewer之前，(也只有在这种情况下)-cnewer会受-follow的影响</span></span><br><span class="line"><span class="ruby">-newer &lt;file&gt; 对文件的最近一次修改比file修改时间要晚。如果命令行中-follow在-newer之前，(也只有在这种情况下)-newer会受-follow的影响</span></span><br></pre></td></tr></table></figure></p>
<h2 id="grep（文本过滤）"><a href="#grep（文本过滤）" class="headerlink" title="grep（文本过滤）"></a>grep（文本过滤）</h2><p>grep [选项]… PATTERN [FILE]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-r 指定目录下所有文本</span></span><br><span class="line"><span class="deletion">-A &lt;行数&gt; 显示匹配结果行，并显示该行之后的N行。</span></span><br><span class="line"><span class="deletion">-b 在显示符合范本样式的那一行之外，并显示该行之前的内容。</span></span><br><span class="line"><span class="deletion">-n 显示行数</span></span><br><span class="line"><span class="deletion">-c 显示匹配行数</span></span><br><span class="line"><span class="deletion">-i 忽略大小写</span></span><br><span class="line"><span class="deletion">-w 完全匹配。</span></span><br><span class="line"><span class="deletion">-x 只显示全行符合的行。</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-E 可以使用正则。</span></span><br><span class="line"><span class="deletion">-e 指定匹配字符串</span></span><br><span class="line"><span class="deletion">-f 指定匹配字符串文件（每个字符串占一行）</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-v 反转查找。</span></span><br><span class="line"><span class="deletion">-o 只输出文件中匹配到的部分。</span></span><br><span class="line"><span class="deletion">-q 不显示任何信息。</span></span><br><span class="line"><span class="deletion">-s 不显示错误信息。</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-h 在显示符合范本样式的那一列之前，不标示该列所属的文件名称。</span></span><br><span class="line"><span class="deletion">-H 在显示符合范本样式的那一列之前，标示该列的文件名称。</span></span><br><span class="line"><span class="deletion">-l 列出文件内容符合指定的范本样式的文件名称。</span></span><br><span class="line"><span class="deletion">-L 列出文件内容不符合指定的范本样式的文件名称。</span></span><br></pre></td></tr></table></figure></p>
<h2 id="xargs（传递参数）"><a href="#xargs（传递参数）" class="headerlink" title="xargs（传递参数）"></a>xargs（传递参数）</h2><p>xargs [选项] 命令<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-t 显示将要执行的命令</span></span><br><span class="line"><span class="deletion">-I 配合&#123;&#125;使用，将结果行赋给变量&#123;&#125;，之后可以对&#123;&#125;进行操作</span></span><br><span class="line"><span class="deletion">-0 解决换行分隔符问题，可配合find -print0使用</span></span><br><span class="line"><span class="deletion">-n 分组执行，每组n个参数，适用于参数过长的场景</span></span><br><span class="line"><span class="deletion">-l 分组执行，每次读n行做参数</span></span><br><span class="line"><span class="deletion">-r 遇到空行，停止执行，一般没有任何内容也会执行一次。</span></span><br><span class="line"><span class="deletion">-s 限制每个参数的长度</span></span><br><span class="line"><span class="deletion">-p 执行前确认</span></span><br></pre></td></tr></table></figure></p>
<h1 id="压缩相关命令"><a href="#压缩相关命令" class="headerlink" title="压缩相关命令"></a>压缩相关命令</h1><h2 id="zip-unzip-zipinfo（zip格式）"><a href="#zip-unzip-zipinfo（zip格式）" class="headerlink" title="zip/unzip/zipinfo（zip格式）"></a>zip/unzip/zipinfo（zip格式）</h2><p>zip [选项] 压缩包[.zip] 文件… -xi 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-0 不压缩，只存储</span></span><br><span class="line"><span class="deletion">-1 压缩速度更快（compress faster）</span></span><br><span class="line"><span class="deletion">-9 压缩质量更高（compress better）</span></span><br><span class="line"><span class="deletion">-r 递归处理，将指定目录下的所有文件和子目录一并处理</span></span><br><span class="line"><span class="deletion">-P &lt;密码&gt; 加密压缩包</span></span><br><span class="line"><span class="deletion">-z 压缩时添加注释</span></span><br><span class="line"><span class="deletion">-u 更新压缩包中的文件，不存在则添加进压缩文件</span></span><br><span class="line"><span class="deletion">-f 只更新压缩包中存在的文件，不存在则不执行</span></span><br><span class="line"><span class="deletion">-d 从压缩包中删除指定文件</span></span><br><span class="line"><span class="deletion">-m 将文件移动到压缩文件中，存在则覆盖</span></span><br><span class="line"><span class="deletion">-D 压缩不添加目录</span></span><br><span class="line"><span class="deletion">-i &lt;files&gt; 压缩指定文件列表</span></span><br><span class="line"><span class="deletion">-x &lt;files&gt; 压缩排除指定文件列表</span></span><br><span class="line"><span class="deletion">-l 把换行转成回车换行</span></span><br><span class="line"><span class="deletion">-ll 把回车换行转成换行</span></span><br><span class="line"><span class="deletion">-o 将压缩包内文件的最新更改时间，作为压缩包的更改时间</span></span><br><span class="line"><span class="deletion">-t &lt;date yyyy-mm-dd&gt;  压缩更改时间大于指定时间的文件</span></span><br><span class="line"><span class="deletion">-tt &lt;date yyyy-mm-dd&gt;  压缩更改时间小于指定时间的文件  </span></span><br><span class="line"><span class="deletion">-y 压缩符号链接而不是符号链接指向的实际文件</span></span><br><span class="line"><span class="deletion">-T 测试压缩包完整性</span></span><br><span class="line"><span class="deletion">-F 尝试修复已损坏的压缩文件</span></span><br><span class="line"><span class="deletion">-FF 更努力地尝试修复</span></span><br><span class="line"><span class="deletion">-q 不显示执行过程</span></span><br><span class="line"><span class="deletion">-v 显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<p>unzip [选项] 压缩包[.zip]<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-P &lt;密码&gt; 解密压缩包</span></span><br><span class="line"><span class="deletion">-x &lt;files&gt; 解压缩时，排除解压的文件列表</span></span><br><span class="line"><span class="deletion">-d &lt;目录&gt; 解压到指定目录</span></span><br><span class="line"><span class="deletion">-z 显示压缩包注释</span></span><br><span class="line"><span class="deletion">-t 检查压缩包完整性</span></span><br><span class="line"><span class="deletion">-l 列出压缩包内文件信息</span></span><br><span class="line"><span class="deletion">-v 显示压缩包详细信息</span></span><br><span class="line"><span class="deletion">-n 解压缩不覆盖目录内原有文件</span></span><br><span class="line"><span class="deletion">-o 解压缩强制覆盖目录内原有文件</span></span><br><span class="line"><span class="deletion">-f 更新目录内存在的文件，没有则无操作</span></span><br><span class="line"><span class="deletion">-q 不显示执行信息</span></span><br><span class="line"><span class="deletion">-j 解压缩丢弃目录结构</span></span><br><span class="line"><span class="deletion">-a 自动转换所有的文本文件的字符集为系统字符集</span></span><br><span class="line"><span class="deletion">-aa 将所有文件视为文本</span></span><br><span class="line"><span class="deletion">-b 将所有文件视为二进制</span></span><br><span class="line"><span class="deletion">-LL 解压缩时将所有文件名小写</span></span><br><span class="line"><span class="deletion">-X 解压缩保持原来的UID/GID；</span></span><br><span class="line"><span class="deletion">-M 将输出结果交给more处理</span></span><br><span class="line"><span class="deletion">-Z 相当于执行zipinfo</span></span><br></pre></td></tr></table></figure></p>
<p>zipinfo [选项] 参数<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-x &lt;files&gt; 排除的文件列表</span></span><br><span class="line"><span class="deletion">-1 只列出文件名称；</span></span><br><span class="line"><span class="deletion">-2 与-1”类似，但可搭配“-h”，“-t”和“-z”参数使用</span></span><br><span class="line"><span class="deletion">-h 只列出压缩包内的文件名称</span></span><br><span class="line"><span class="deletion">-t 只列出压缩包内的文件数，压缩前后的文件大小和压缩率</span></span><br><span class="line"><span class="deletion">-z 显示压缩包注释</span></span><br><span class="line"><span class="deletion">-s 用类似执行“ls-l”指令的效果列出压缩文件内容</span></span><br><span class="line"><span class="deletion">-m 与-s类似，但多会列出每个文件的压缩率</span></span><br><span class="line"><span class="deletion">-l 与-m类似，但会列出原始文件的大小而非压缩率</span></span><br><span class="line"><span class="deletion">-v 详细显示压缩包内每一个文件的信息</span></span><br><span class="line"><span class="deletion">-M 将输出结果交给more处理</span></span><br></pre></td></tr></table></figure></p>
<h2 id="gzip-gunzip（gz格式）"><a href="#gzip-gunzip（gz格式）" class="headerlink" title="gzip/gunzip（gz格式）"></a>gzip/gunzip（gz格式）</h2><p>只能压缩文件<br>gzip [OPTION]… [FILE]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-1 压缩速度更快（compress faster）</span></span><br><span class="line"><span class="deletion">-9 压缩质量更高（compress better）</span></span><br><span class="line"><span class="deletion">-d 解压缩，相当于gunzip</span></span><br><span class="line"><span class="deletion">-f 强制压缩文件和链接</span></span><br><span class="line"><span class="deletion">-l 列出压缩包的相关信息</span></span><br><span class="line"><span class="deletion">-r 递归处理，将指定目录下的所有文件及子目录一并处理</span></span><br><span class="line"><span class="deletion">-n 压缩文件时，不保存原来的文件名称及时间戳记</span></span><br><span class="line"><span class="deletion">-N 压缩文件时，保存原来的文件名称及时间戳记</span></span><br><span class="line"><span class="deletion">-t 检查压缩包完整性</span></span><br><span class="line"><span class="deletion">-q 不显示执行过程</span></span><br><span class="line"><span class="deletion">-v 显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="bzip2-bunzip2（bz2格式）"><a href="#bzip2-bunzip2（bz2格式）" class="headerlink" title="bzip2/bunzip2（bz2格式）"></a>bzip2/bunzip2（bz2格式）</h2><p>只能压缩文件<br>bzip2 [OPTION]… [FILE]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-1 压缩速度更快（compress faster）</span></span><br><span class="line"><span class="deletion">-9 压缩质量更高（compress better）</span></span><br><span class="line"><span class="deletion">-d 解压缩，相当于bunzip2</span></span><br><span class="line"><span class="deletion">-k 压缩且不删除被压缩文件</span></span><br><span class="line"><span class="deletion">-f 强制覆盖</span></span><br><span class="line"><span class="deletion">-s 降低执行压缩时内存使用量（最多2500k）</span></span><br><span class="line"><span class="deletion">-t 检查压缩包完整性</span></span><br><span class="line"><span class="deletion">-q 不显示执行过程</span></span><br><span class="line"><span class="deletion">-v 显示执行过程</span></span><br></pre></td></tr></table></figure></p>
<h2 id="tar（归档压缩工具）"><a href="#tar（归档压缩工具）" class="headerlink" title="tar（归档压缩工具）"></a>tar（归档压缩工具）</h2><p>tar [选项…] [FILE]…<br><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">-c 新建归档</span></span><br><span class="line"><span class="literal">-x 展开归档</span></span><br><span class="line"><span class="literal">-C &lt;目录&gt; 解压到指定目录</span></span><br><span class="line"><span class="literal">-z 使用gzip压缩归档</span></span><br><span class="line"><span class="literal">-j 使用bzip2压缩归档</span></span><br><span class="line"><span class="literal">-J 使用xz压缩归档</span></span><br><span class="line"><span class="literal">-Z 使用compress压缩归档</span></span><br><span class="line"><span class="literal">-f 指定归档文件名，f必须放在选项最后</span></span><br><span class="line"><span class="literal">-t 列出归档内容</span></span><br><span class="line"><span class="literal">-v 显示执行过程</span></span><br><span class="line"><span class="literal">--exclude &lt;文件名&gt; 排除指定文件</span></span><br><span class="line"><span class="literal">-w 每次操作都需要询问</span></span><br><span class="line"><span class="literal">-k 保留原有文件不覆盖</span></span><br><span class="line"><span class="literal">-m --touch 不要原有文件的修改时间</span></span><br><span class="line"><span class="literal">-P 保留归档文件的绝对路径</span></span><br><span class="line"><span class="literal">-N &lt;日期格式&gt; 只将比指定日期更新的文件归档</span></span><br><span class="line"><span class="literal">-d 比较归档内与系统内的文件差异</span></span><br><span class="line"></span><br><span class="line">以下选项对压缩后归档无效：</span><br><span class="line"><span class="literal">-A 合并归档</span></span><br><span class="line"><span class="literal">-r  追加文件到归档</span></span><br><span class="line"><span class="literal">-u 仅追加比归档中副本更新的文件</span></span><br><span class="line"><span class="literal">--delete 从归档删除文件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">使用gzip压缩当前目录所有文件到pack.tar.gz归档</span><br><span class="line"><span class="comment"># tar czvf pack.tar.gz ./*</span></span><br><span class="line">使用gzip解压缩pack.tar.gz归档到./temp目录</span><br><span class="line"><span class="comment"># tar xzvf pack.tar.gz -C ./temp</span></span><br><span class="line">查看归档中文件内容</span><br><span class="line"><span class="comment"># tar tvf pack.tar.gz</span></span><br><span class="line">查看归档与系统内的文件差异</span><br><span class="line"><span class="comment"># tar dvf pack.tar.gz *</span></span><br><span class="line"><span class="attribute">file1</span></span><br><span class="line"><span class="attribute">file2</span></span><br><span class="line"><span class="attribute">tar</span>: all.tar.gz：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: file3：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: filedir：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: file.txt：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: one.tar：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: one.tar.gz：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: pack.tar：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: pack.tar.gz：归档中找不到</span><br><span class="line"><span class="attribute">tar</span>: 由于前次错误，将以上次的错误状态退出</span><br><span class="line"></span><br><span class="line">以下操作对未压缩的归档可用：</span><br><span class="line">添加指定文件到归档</span><br><span class="line"><span class="comment"># tar -rvf pack.tar file3</span></span><br><span class="line">从归档中删除指定文件</span><br><span class="line"><span class="comment"># tar --delete -vf pack.tar file3</span></span><br><span class="line">合并归档</span><br><span class="line"><span class="comment"># tar -Avf one-file.tar pack.tar</span></span><br></pre></td></tr></table></figure></p>
<h1 id="用户及组相关命令"><a href="#用户及组相关命令" class="headerlink" title="用户及组相关命令"></a>用户及组相关命令</h1><h2 id="su（切换用户）"><a href="#su（切换用户）" class="headerlink" title="su（切换用户）"></a>su（切换用户）</h2><p>su [选项] [-] [USER [参数]…]<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">不指定用户默认切换为root用户</span><br><span class="line"><span class="deletion">- 加载要切换的用户的环境</span></span><br><span class="line"><span class="deletion">-c 运行指定命令然后退出</span></span><br><span class="line"><span class="deletion">-m 切换用户，但不改变环境变量</span></span><br></pre></td></tr></table></figure></p>
<h2 id="sudo（以其他用户执行命令）"><a href="#sudo（以其他用户执行命令）" class="headerlink" title="sudo（以其他用户执行命令）"></a>sudo（以其他用户执行命令）</h2><p>sudo命令用来以其他身份来执行命令，预设的身份为root。<br>在/etc/sudoers中设置了可执行sudo指令的用户。若其未经授权的用户企图使用sudo，则会发出警告的邮件给管理员。用户使用sudo时，必须先输入密码，之后有5分钟的有效期限，超过期限则必须重新输入密码。</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-b：在后台执行指令；</span></span><br><span class="line"><span class="deletion">-H：将HOME环境变量设为新身份的HOME环境变量；</span></span><br><span class="line"><span class="deletion">-l：列出目前用户可执行与无法执行的指令；</span></span><br><span class="line"><span class="deletion">-s&lt;shell&gt;：执行指定的shell；</span></span><br><span class="line"><span class="deletion">-u&lt;用户&gt;：以指定的用户作为新的身份。若不加上此参数，则预设以root作为新的身份；</span></span><br><span class="line"><span class="deletion">-v：延长密码有效期限5分钟；</span></span><br><span class="line"><span class="deletion">-k：结束密码的有效期限，也就是下次再执行sudo时便需要输入密码；</span></span><br></pre></td></tr></table></figure>
<p>在登录到普通用户之后，su - root和sudo -s 都可以切换为root用户。</p>
<h2 id="who（显示当前登录到系统的用户）"><a href="#who（显示当前登录到系统的用户）" class="headerlink" title="who（显示当前登录到系统的用户）"></a>who（显示当前登录到系统的用户）</h2><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">a 列出所有信息</span></span><br><span class="line"><span class="ruby">-b 列出系统最近启动的日期时间</span></span><br><span class="line"><span class="ruby">-H 显示各栏位的标题信息列</span></span><br><span class="line"><span class="ruby">-u 额外显示空闲时间、进程号，若该用户在一分钟之内有进行任何动作，将标示成<span class="string">"."</span>号，如果该用户已超过<span class="number">24</span>小时没有任何动作，则标示出<span class="string">"old"</span>字符串</span></span><br><span class="line"><span class="ruby">-m 此参数和直接敲<span class="string">"who am i"</span>效果相同</span></span><br><span class="line"><span class="ruby">-q 只显示登入系统的用户名和总用户数</span></span><br></pre></td></tr></table></figure>
<h2 id="w（显示已经登陆系统的用户列表）"><a href="#w（显示已经登陆系统的用户列表）" class="headerlink" title="w（显示已经登陆系统的用户列表）"></a>w（显示已经登陆系统的用户列表）</h2><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-h 不显示标题</span></span><br><span class="line"><span class="deletion">-s 短格式显示</span></span><br><span class="line">&lt;user&gt; 指定用户</span><br><span class="line"></span><br><span class="line">指标含义：</span><br><span class="line">JCPU 表示该终端上所有进程及子进程使用系统的总时间</span><br><span class="line">PCPU 当前活动进程使用系统的时间</span><br></pre></td></tr></table></figure>
<h2 id="last（查看登录用户记录）"><a href="#last（查看登录用户记录）" class="headerlink" title="last（查看登录用户记录）"></a>last（查看登录用户记录）</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># last -a</span></span><br></pre></td></tr></table></figure>
<h2 id="groupadd-groupdel（组操作）"><a href="#groupadd-groupdel（组操作）" class="headerlink" title="groupadd/groupdel（组操作）"></a>groupadd/groupdel（组操作）</h2><p>groupadd [选项] 组<br><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">-g 指定GID</span></span><br><span class="line"><span class="literal">-r 创建系统组，系统组的GID小于500</span></span><br><span class="line"><span class="literal">-o 允许添加重复GID的组</span></span><br><span class="line"><span class="literal">-p 为组设置密码</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># groupadd -g 1999 monitor</span></span><br></pre></td></tr></table></figure></p>
<p>groupdel 组<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># groupdel monitor</span></span><br></pre></td></tr></table></figure></p>
<h2 id="useradd-userdel-usermod（用户操作）"><a href="#useradd-userdel-usermod（用户操作）" class="headerlink" title="useradd/userdel/usermod（用户操作）"></a>useradd/userdel/usermod（用户操作）</h2><p>useradd [选项] 用户名<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-u 指定UID</span></span><br><span class="line"><span class="deletion">-g 指定所属默认组</span></span><br><span class="line"><span class="deletion">-G 指定所属附加组</span></span><br><span class="line"><span class="deletion">-d 指定用户主目录</span></span><br><span class="line"><span class="deletion">-s 指定用户登录默认shell</span></span><br><span class="line"><span class="deletion">-c 用户备注</span></span><br><span class="line"><span class="deletion">-o 允许添加重复UID的用户</span></span><br><span class="line"><span class="deletion">-p 为用户设置密码，存放在/etc/shadow，必须是加密后的</span></span><br><span class="line"><span class="deletion">-r 创建系统用户</span></span><br><span class="line"><span class="deletion">-e 用户过期时间</span></span><br><span class="line"><span class="deletion">-f 用户密码失效时间</span></span><br></pre></td></tr></table></figure></p>
<p>userdel [选项] 用户名<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-f 强制删除</span></span><br><span class="line"><span class="deletion">-r 删除主目录、主组和邮件池等用户相关数据</span></span><br></pre></td></tr></table></figure></p>
<p>usermod [选项] 用户名<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-u 指定UID</span></span><br><span class="line"><span class="deletion">-g 指定主GID，组必须存在</span></span><br><span class="line"><span class="deletion">-G 指定主组名</span></span><br><span class="line"><span class="deletion">-aG 追加到附加组中</span></span><br><span class="line"><span class="deletion">-d 指定主目录</span></span><br><span class="line"><span class="deletion">-dm 将主目录移动到新目录</span></span><br><span class="line"><span class="deletion">-s 指定用户登录默认shell</span></span><br><span class="line"><span class="deletion">-c 修改用户备注</span></span><br><span class="line"><span class="deletion">-l 修改用户名</span></span><br><span class="line"><span class="deletion">-e 修改用户过期时间</span></span><br><span class="line"><span class="deletion">-f 修改用户密码失效时间</span></span><br><span class="line"><span class="deletion">-L 锁定用户</span></span><br><span class="line"><span class="deletion">-U 解锁用户</span></span><br><span class="line"><span class="deletion">-o 允许使用重复UID</span></span><br><span class="line"><span class="deletion">-p 为用户设置密码，存放在/etc/shadow，必须是加密后的</span></span><br></pre></td></tr></table></figure></p>
<h2 id="passwd（设置用户密码）"><a href="#passwd（设置用户密码）" class="headerlink" title="passwd（设置用户密码）"></a>passwd（设置用户密码）</h2><p>passwd [选项…] 用户名<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-k 保持密码永不过期</span></span><br><span class="line"><span class="deletion">-d 删除用户密码</span></span><br><span class="line"><span class="deletion">-l 锁定用户</span></span><br><span class="line"><span class="deletion">-u 解锁用户</span></span><br><span class="line"><span class="deletion">-e 设置用户密码为过期</span></span><br><span class="line"><span class="deletion">-f 强制执行</span></span><br><span class="line"><span class="deletion">-x, --maximum=DAYS      密码的最长有效时限</span></span><br><span class="line"><span class="deletion">-n, --minimum=DAYS      密码的最短有效时限</span></span><br><span class="line"><span class="deletion">-w, --warning=DAYS      在密码过期前多少天开始提醒用户</span></span><br><span class="line"><span class="deletion">-i, --inactive=DAYS     当密码过期后经过多少天该帐号会被禁用</span></span><br><span class="line"><span class="deletion">-S, --status            报告已命名帐号的密码状态(只有根用户才能进行此操作)</span></span><br></pre></td></tr></table></figure></p>
<h2 id="chown-chmod（文件权限设置）"><a href="#chown-chmod（文件权限设置）" class="headerlink" title="chown/chmod（文件权限设置）"></a>chown/chmod（文件权限设置）</h2><p>chown [选项] 所属用户:所属组 文件…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-R 递归操作目录文件及子目录</span></span><br><span class="line"><span class="deletion">-v 显示执行过程</span></span><br><span class="line"><span class="deletion">-h 只修改符号链接所属，不修改指向文件</span></span><br></pre></td></tr></table></figure></p>
<p>chmod [选项…] 模式 文件<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-R 递归操作目录文件及子目录</span><br><span class="line">-v 显示执行过程</span><br><span class="line"></span><br><span class="line"><span class="comment"># chmod 755 file</span></span><br><span class="line"><span class="comment"># ll</span></span><br><span class="line">总用量 0</span><br><span class="line">-rwxr-xr-x 1 root root   0 2月   16 13:42 file</span><br><span class="line"></span><br><span class="line">模式：</span><br><span class="line">rwx 421 可读可写可执行</span><br><span class="line">第一个-/d表示文件还是目录</span><br><span class="line">其余三个一组，分别代表：owner<span class="built_in"> group </span>other</span><br></pre></td></tr></table></figure></p>
<h2 id="umask（文件创建权限注销码）"><a href="#umask（文件创建权限注销码）" class="headerlink" title="umask（文件创建权限注销码）"></a>umask（文件创建权限注销码）</h2><p>umask [选项] [参数]<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-p 显示权限注销码</span></span><br><span class="line"><span class="deletion">-S 显示权限注销字符串</span></span><br></pre></td></tr></table></figure></p>
<p>看下当前Bash的权限注销码<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">umask</span></span></span><br><span class="line">0022</span><br></pre></td></tr></table></figure></p>
<p>第一个0表示suid注销的权限<br>第二个0表示拥有者不注销任何权限<br>第三个2表示拥有组注销了w权限<br>第四个2表示其他用户注销了w权限</p>
<p>注销除拥有者的任何权限<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">umask</span> 0077</span></span><br></pre></td></tr></table></figure></p>
<p>但是在Bash中设置是临时的，可以在/etc/profile中设置系统启动生效。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/profile</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$UID</span> -gt 199 ] &amp;&amp; [ <span class="string">"`/usr/bin/id -gn`"</span> = <span class="string">"`/usr/bin/id -un`"</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">umask</span> 002</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">umask</span> 022</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></p>
<h1 id="磁盘相关命令"><a href="#磁盘相关命令" class="headerlink" title="磁盘相关命令"></a>磁盘相关命令</h1><h2 id="df（查看系统的磁盘使用情况）"><a href="#df（查看系统的磁盘使用情况）" class="headerlink" title="df（查看系统的磁盘使用情况）"></a>df（查看系统的磁盘使用情况）</h2><p>df [选项]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-a 列出所有文件系统分区；</span></span><br><span class="line"><span class="deletion">-h 友好显示</span></span><br><span class="line"><span class="deletion">-H 与-h类似，但在计算时是以1000 Bytes为换算单位而非1024 Bytes；</span></span><br><span class="line"><span class="deletion">-i 显示inode信息</span></span><br><span class="line"><span class="deletion">-l 仅显示本地端的文件系统</span></span><br><span class="line"><span class="deletion">-k 以KB为单位查看</span></span><br><span class="line"><span class="deletion">-m 以MB为单位查看</span></span><br><span class="line"><span class="deletion">-T 显示文件系统类型</span></span><br><span class="line"><span class="deletion">-x &lt;文件系统类型&gt; 排除指定文件系统类型</span></span><br></pre></td></tr></table></figure></p>
<h2 id="du（查看目录的磁盘使用情况）"><a href="#du（查看目录的磁盘使用情况）" class="headerlink" title="du（查看目录的磁盘使用情况）"></a>du（查看目录的磁盘使用情况）</h2><p>du [选项]… [文件]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-a 显示目录中所有文件的大小</span></span><br><span class="line"><span class="deletion">-s 显示总计大小</span></span><br><span class="line"><span class="deletion">-h 友好显示</span></span><br><span class="line"><span class="deletion">-H 与-h相同，但在计算时是以1000 Bytes为换算单位而非1024 Bytes；</span></span><br><span class="line"><span class="deletion">-b 以byte为单位显示</span></span><br><span class="line"><span class="deletion">-k 以KB为单位显示</span></span><br><span class="line"><span class="deletion">-m 以MB为单位显示</span></span><br><span class="line"><span class="deletion">-L &lt;符号链接&gt; 显示符号链接指向文件的大小</span></span><br></pre></td></tr></table></figure></p>
<h2 id="sync（强迫将内存数据写入磁盘，并更新超级块）"><a href="#sync（强迫将内存数据写入磁盘，并更新超级块）" class="headerlink" title="sync（强迫将内存数据写入磁盘，并更新超级块）"></a>sync（强迫将内存数据写入磁盘，并更新超级块）</h2><h2 id="eject（弹出设备）"><a href="#eject（弹出设备）" class="headerlink" title="eject（弹出设备）"></a>eject（弹出设备）</h2><p>eject [选项] [&lt;设备&gt;|&lt;挂臷点&gt;]<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-a, <span class="params">--auto</span> &lt;on|off&gt;         打开/关闭自动弹出功能</span><br><span class="line">-c, <span class="params">--changerslot</span> &lt;slot&gt;    在 CD-ROM 更换器上换盘</span><br><span class="line">-d, <span class="params">--default</span>               显示默认设备</span><br><span class="line">-f, <span class="params">--floppy</span>                弹出软盘</span><br><span class="line">-F, <span class="params">--force</span>                 无视设备类型</span><br><span class="line">-i, <span class="params">--manualeject</span> &lt;on|off&gt;  切换手动弹出保护开/关</span><br><span class="line">-m, <span class="params">--no-unmount</span>            不卸载设备，即使它已挂臷</span><br><span class="line">-M, <span class="params">--no-partitions-unmount</span> 不卸载另外的分区</span><br><span class="line">-n, <span class="params">--noop</span>                  不弹出，只显示找到的设备</span><br><span class="line">-p, <span class="params">--proc</span>                  使用 <span class="string">/proc/mounts</span> 代替 <span class="string">/etc/mtab</span></span><br><span class="line">-q, <span class="params">--tape</span>                  弹出磁带</span><br><span class="line">-r, <span class="params">--cdrom</span>                 弹出 CD-ROM</span><br><span class="line">-s, <span class="params">--scsi</span>                  弹出 SCSI 设备</span><br><span class="line">-t, <span class="params">--trayclose</span>             关闭托盘</span><br><span class="line">-T, <span class="params">--traytoggle</span>            开关托盘</span><br><span class="line">-v, <span class="params">--verbose</span>               启用详尽输出</span><br><span class="line">-x, <span class="params">--cdspeed</span> &lt;speed&gt;       设置 CD-ROM 最高速度</span><br><span class="line">-X, <span class="params">--listspeed</span>             列出 CD-ROM 可用速度</span><br></pre></td></tr></table></figure></p>
<h1 id="网络相关命令"><a href="#网络相关命令" class="headerlink" title="网络相关命令"></a>网络相关命令</h1><h2 id="ifconfig（显示网络接口信息）"><a href="#ifconfig（显示网络接口信息）" class="headerlink" title="ifconfig（显示网络接口信息）"></a>ifconfig（显示网络接口信息）</h2><p>ifconfig<br>ifconfig 网卡名</p>
<h2 id="telnet（使用telnet协议探测主机端口）"><a href="#telnet（使用telnet协议探测主机端口）" class="headerlink" title="telnet（使用telnet协议探测主机端口）"></a>telnet（使用telnet协议探测主机端口）</h2><p>telnet 主机IP 端口</p>
<h2 id="netstat（查看网络连接状态）"><a href="#netstat（查看网络连接状态）" class="headerlink" title="netstat（查看网络连接状态）"></a>netstat（查看网络连接状态）</h2><p>netstat [选项]<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">a 显示所有连接</span></span><br><span class="line"><span class="ruby">-n 显示IP，而非域名</span></span><br><span class="line"><span class="ruby">-o 显示存活计时器</span></span><br><span class="line"><span class="ruby">-l 显示状态为LISTENING监听的连接</span></span><br><span class="line"><span class="ruby">-p 显示进程ID和进程名</span></span><br><span class="line"><span class="ruby">-e 显示其他扩展信息</span></span><br><span class="line"><span class="ruby">-t 显示TCP协议的连接</span></span><br><span class="line"><span class="ruby">-u 显示UDP协议的连接</span></span><br><span class="line"><span class="ruby">-w 显示RAW协议的连接</span></span><br><span class="line"><span class="ruby">-A 显示指定网络类型的连接</span></span><br><span class="line"><span class="ruby">-x 与<span class="string">"-A unix"</span>效果相同</span></span><br><span class="line"><span class="ruby">--ip 与<span class="string">"-A inet"</span>效果相同</span></span><br><span class="line"><span class="ruby">-r 显示路由表</span></span><br><span class="line"><span class="ruby">-i 显示网络接口表，-ie与ifconfig效果相同</span></span><br><span class="line"><span class="ruby">-g 显示多重广播功能群组组员名单</span></span><br><span class="line"><span class="ruby">-s 显示网络协议的统计信息</span></span><br><span class="line"><span class="ruby">-c &lt;秒数&gt; 持续输出网络连接状态</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">显示字段：</span></span><br><span class="line"><span class="ruby">Proto：当前连接的协议；如TCP、UDP；</span></span><br><span class="line"><span class="ruby">Recv-Q：网络接收队列；</span></span><br><span class="line"><span class="ruby">Send-Q：网络发送队列；接收队列和发送队列一般都应该是<span class="number">0</span>，如果不是则表示数据包正在队列中堆积，但是这种情况比较少见；</span></span><br><span class="line"><span class="ruby">Local Address：本机的<span class="symbol">ip:</span>port（注意此处<span class="number">127.0</span>.<span class="number">0</span>.<span class="number">1</span>默认显示主机名，<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">0</span>默认显示*，端口可能显示别名。若强制显示数字，加-n参数）</span></span><br><span class="line"><span class="ruby">Foreign Address：对端<span class="symbol">ip:</span>port；与Local Address规则相同</span></span><br><span class="line"><span class="ruby">State：当前套接字的网络状态，有以下几种状态：</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">LISTEN：监听来自其它TCP端口的连接请求</span></span><br><span class="line"><span class="ruby">SYN-SENT：再发送连接请求后等待匹配的连接请求（如果有大量这样的状态包，检查是否中招了）</span></span><br><span class="line"><span class="ruby">SYN-RECEIVED：再收到和发送一个连接请求后等待对方对连接请求的确认（如有大量此状态，估计被flood攻击了）</span></span><br><span class="line"><span class="ruby">ESTABLISHED：代表一个打开的连接</span></span><br><span class="line"><span class="ruby">FIN-WAIT-<span class="number">1</span>：等待远程TCP连接中断请求，或先前的连接中断请求的确认</span></span><br><span class="line"><span class="ruby">FIN-WAIT-<span class="number">2</span>：从远程TCP等待连接中断请求</span></span><br><span class="line"><span class="ruby">CLOSE-WAIT：等待从本地用户发来的连接中断请求</span></span><br><span class="line"><span class="ruby">CLOSING：等待远程TCP对连接中断的确认</span></span><br><span class="line"><span class="ruby">LAST-ACK：等待原来的发向远程TCP的连接中断请求的确认（不是什么好东西，此项出现，检查是否被攻击）</span></span><br><span class="line"><span class="ruby">TIME-WAIT：等待足够的时间以确保远程TCP接收到连接中断请求的确认</span></span><br><span class="line"><span class="ruby">CLOSED：没有任何连接状态</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line"><span class="ruby">查看nginx的网络连接</span></span><br><span class="line"><span class="ruby"><span class="comment"># netstat -anp | grep nginx</span></span></span><br><span class="line"><span class="ruby">查看所有监听中的tcp连接</span></span><br><span class="line"><span class="ruby"><span class="comment"># netstat -lt</span></span></span><br><span class="line"><span class="ruby">查看所有监听中的udp连接</span></span><br><span class="line"><span class="ruby"><span class="comment"># netstat -lu</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="wget（从指定URL下载文件）"><a href="#wget（从指定URL下载文件）" class="headerlink" title="wget（从指定URL下载文件）"></a>wget（从指定URL下载文件）</h2><p>wget [选项]… [URL]…<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-b 后台下载</span></span><br><span class="line"><span class="deletion">-c 断点续传</span></span><br><span class="line"><span class="deletion">-S 显示服务器响应信息</span></span><br><span class="line"><span class="deletion">-t 设置失败重试次数</span></span><br><span class="line"><span class="deletion">-T 设置超时时间</span></span><br><span class="line"><span class="deletion">-w 重试间隔时间</span></span><br><span class="line"><span class="deletion">-o &lt;文件名&gt; 将下载信息创建并添加到日志文件</span></span><br><span class="line"><span class="deletion">-a &lt;文件名&gt; 将下载信息追加到指定日志文件</span></span><br></pre></td></tr></table></figure></p>
<h2 id="scp（远程复制）"><a href="#scp（远程复制）" class="headerlink" title="scp（远程复制）"></a>scp（远程复制）</h2><p>scp [选项] 本机目录/远程主机目录  远程主机目录/本机目录<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-r 递归复制目录</span><br><span class="line">-P 指定远程主机的端口</span><br><span class="line">-p 保留文件的修改时间，访问时间和权限模式</span><br><span class="line">-F 指定ssh配置文件</span><br><span class="line">-o 指定ssh选项</span><br><span class="line">-l 指定宽带限制</span><br><span class="line">-q 不显示复制过程</span><br><span class="line"></span><br><span class="line">从本机目录复制到远程主机目录</span><br><span class="line">scp -r local root<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">249</span><span class="symbol">:/root/practise</span></span><br><span class="line">从远程主机复制目录到本机目录</span><br><span class="line">scp -r root<span class="variable">@192</span>.<span class="number">168.1</span>.<span class="number">249</span><span class="symbol">:/root/practise/local</span> .</span><br></pre></td></tr></table></figure></p>
<h1 id="软件安装相关命令"><a href="#软件安装相关命令" class="headerlink" title="软件安装相关命令"></a>软件安装相关命令</h1><h2 id="rpm（软件包安装）"><a href="#rpm（软件包安装）" class="headerlink" title="rpm（软件包安装）"></a>rpm（软件包安装）</h2><p>rpm [选项…] [参数]<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">-i 安装</span><br><span class="line">-U 升级更新</span><br><span class="line">-e 删除</span><br><span class="line">-v 显示执行过程</span><br><span class="line">-vv 显示详细执行过程，用于排错</span><br><span class="line">-h 显示安装进度</span><br><span class="line">-V 验证软件完整性</span><br><span class="line"><span class="comment">--test 测试安装过程，不实际安装</span></span><br><span class="line"><span class="comment">--nodeps 不检查依赖关系</span></span><br><span class="line"><span class="comment">--force 强制安装，忽略依赖、冲突及旧版本</span></span><br><span class="line"><span class="comment">--replacepkgs 强制重新安装已安装的软件包</span></span><br><span class="line"></span><br><span class="line">-q 查询信息</span><br><span class="line">-a 查询所有软件包</span><br><span class="line">-f 查询指定文件</span><br><span class="line">-p 查询指定软件包</span><br><span class="line">-l 列出指定软件包的文件列表</span><br><span class="line">-i 查询软件概要信息</span><br><span class="line">-d 查询说明文件、用户手册</span><br><span class="line"><span class="comment">--provides 查询软件提供功能</span></span><br><span class="line"><span class="comment">--requires 查询软件依赖关系</span></span><br><span class="line"></span><br><span class="line">-g 查询系统已安装的某个软件分类下有哪些软件</span><br><span class="line"></span><br><span class="line">安装软件</span><br><span class="line"><span class="comment"># rpm -ivh tree</span></span><br><span class="line">升级软件</span><br><span class="line"><span class="comment"># rpm -Uvh tree</span></span><br><span class="line">卸载软件</span><br><span class="line"><span class="comment"># rpm -evh tree</span></span><br><span class="line"></span><br><span class="line">查询nginx版本</span><br><span class="line"><span class="comment"># rpm -qa | grep nginx</span></span><br><span class="line">nginx-1.16.0-1.el7.ngx.x86_64</span><br><span class="line"></span><br><span class="line">查询指定文件属于哪个软件包</span><br><span class="line"><span class="comment"># rpm -qf /bin/bash</span></span><br><span class="line">bash-4.2.46-31.el7.x86_64</span><br><span class="line"></span><br><span class="line">查询指定软件包</span><br><span class="line"><span class="comment"># rpm -qp tree-1.8.0-26.5.x86_64.rpm</span></span><br><span class="line">警告：tree-1.8.0-26.5.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID e2c0098c: NOKEY</span><br><span class="line">tree-1.8.0-26.5.x86_64</span><br><span class="line"></span><br><span class="line">列出指定软件包的文件列表</span><br><span class="line"><span class="comment"># rpm -qpl tree-1.8.0-26.5.x86_64.rpm</span></span><br><span class="line">警告：tree-1.8.0-26.5.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID e2c0098c: NOKEY</span><br><span class="line">/usr/bin/tree</span><br><span class="line">/usr/share/doc/packages/tree</span><br><span class="line">/usr/share/doc/packages/tree/CHANGES</span><br><span class="line">/usr/share/doc/packages/tree/LICENSE</span><br><span class="line">/usr/share/doc/packages/tree/README</span><br><span class="line">/usr/share/man/man1/tree.1.gz</span><br><span class="line"></span><br><span class="line">查询指定软件包的概要信息</span><br><span class="line"><span class="comment"># rpm -qip tree-1.8.0-26.5.x86_64.rpm</span></span><br><span class="line">警告：tree-1.8.0-26.5.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID e2c0098c: NOKEY</span><br><span class="line">Name        : tree</span><br><span class="line">Version     : 1.8.0</span><br><span class="line"><span class="keyword">Release</span>     : <span class="number">26.5</span></span><br><span class="line">Architecture: x86_64</span><br><span class="line"><span class="keyword">Install</span> <span class="built_in">Date</span>: (<span class="keyword">not</span> installed)</span><br><span class="line"><span class="keyword">Group</span>       : Productivity/<span class="keyword">File</span> utilities</span><br><span class="line"><span class="keyword">Size</span>        : <span class="number">122506</span></span><br><span class="line">License     : GPL<span class="number">-2.0</span>-<span class="keyword">or</span>-later</span><br><span class="line">Signature   : RSA/SHA256, <span class="number">2019</span>年<span class="number">02</span>月<span class="number">09</span>日 星期六 <span class="number">07</span>时<span class="number">06</span>分<span class="number">31</span>秒, <span class="keyword">Key</span> <span class="keyword">ID</span> <span class="number">88</span>eb5d66e2c0098c</span><br><span class="line"><span class="keyword">Source</span> RPM  : tree<span class="number">-1.8</span><span class="number">.0</span><span class="number">-26.5</span>.src.rpm</span><br><span class="line"><span class="keyword">Build</span> <span class="built_in">Date</span>  : <span class="number">2019</span>年<span class="number">02</span>月<span class="number">09</span>日 星期六 <span class="number">07</span>时<span class="number">06</span>分<span class="number">24</span>秒</span><br><span class="line"><span class="keyword">Build</span> Host  : lamb25</span><br><span class="line">Relocations : (<span class="keyword">not</span> relocatable)</span><br><span class="line">Vendor      : obs://build.opensuse.org/Base:<span class="keyword">System</span></span><br><span class="line"><span class="keyword">URL</span>         : <span class="keyword">http</span>://mama.indstate.edu/<span class="keyword">users</span>/ice/tree/</span><br><span class="line">Summary     : <span class="keyword">File</span> listing <span class="keyword">as</span> a tree</span><br><span class="line">Description :</span><br><span class="line">Tree <span class="keyword">is</span> a <span class="keyword">recursive</span> <span class="keyword">directory</span> listing command that produces a <span class="keyword">depth</span></span><br><span class="line">indented listing <span class="keyword">of</span> files, which <span class="keyword">is</span> colorized ala dircolors <span class="keyword">if</span> the</span><br><span class="line">LS_COLORS environment <span class="keyword">variable</span> <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">and</span> <span class="keyword">output</span> <span class="keyword">is</span> <span class="keyword">to</span> tty.</span><br></pre></td></tr></table></figure></p>
<ul>
<li><a href="http://rpm.pbone.net/" target="_blank" rel="noopener">RPM包搜索网站</a></li>
<li><a href="https://pkgs.org/" target="_blank" rel="noopener">pkg搜索网站</a></li>
<li><a href="http://mirror.centos.org/centos/" target="_blank" rel="noopener">CentOS官方镜像</a></li>
<li><a href="http://centos.ustc.edu.cn/centos/" target="_blank" rel="noopener">中科大CentOS镜像</a></li>
</ul>
<h2 id="yum（repo源安装）"><a href="#yum（repo源安装）" class="headerlink" title="yum（repo源安装）"></a>yum（repo源安装）</h2><p>较rpm安装方式更方便易用，为解决复杂的依赖关系而生。<br>所有repo源（也可以叫仓库）都放在/etc/yum.repos.d/目录下，/etc/yum.repos.d/CentOS-Base.repo这是基础源。添加自定义源的格式如下：<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/yum.repos.d/nginx.repo</span></span><br><span class="line"></span><br><span class="line">[nginx-stable] <span class="comment"># 源名称</span></span><br><span class="line">name=nginx stable repo <span class="comment"># 源备注</span></span><br><span class="line">baseurl=http://nginx.org/packages/centos/$releasever/$basearch/ <span class="comment"># 源地址</span></span><br><span class="line">gpgcheck=1 <span class="comment"># 1表示启用GPG校验 0表示不校验</span></span><br><span class="line">enabled=1 <span class="comment"># 是否启用这个源</span></span><br><span class="line">gpgkey=https://nginx.org/keys/nginx_signing.key <span class="comment"># GPG密钥地址</span></span><br></pre></td></tr></table></figure></p>
<p>yum [options] COMMAND<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">参数：</span><br><span class="line">-y 对所有询问都设置<span class="literal">yes</span></span><br><span class="line">--assumeno 对所有询问都设置<span class="literal">no</span></span><br><span class="line">-c 指定配置文件</span><br><span class="line">-q 不显示执行过程</span><br><span class="line">-v 显示执行过程</span><br><span class="line">-t 忽略错误</span><br><span class="line">-d 设置调试级别（0-10）</span><br><span class="line">-e 设置错误级别（0-10）</span><br><span class="line">-R 设置yum处理一个命令的最大等待时间</span><br><span class="line">-C 完全从系统缓存运行，不升级缓存</span><br><span class="line">--enablerepo 启用源</span><br><span class="line">--disablerepo 禁用源</span><br><span class="line">-x 排除某软件包</span><br><span class="line"></span><br><span class="line">命令：</span><br><span class="line">install 安装软件包</span><br><span class="line">reinstall 重新安装软件包</span><br><span class="line">update 升级软件包，默认obsoletes为<span class="literal">true</span>，所以使用上和upgrade没区别</span><br><span class="line">upgrade 升级软件包，相当于update --obsoletes</span><br><span class="line">downgrade 降级软件包</span><br><span class="line">check-update 检查可用更新的软件包</span><br><span class="line"><span class="builtin-name">remove</span> 删除指定的软件包</span><br><span class="line">list 列出所有软件包</span><br><span class="line">search 搜索匹配软件包</span><br><span class="line"><span class="builtin-name">info</span> 显示指定软件包的详细信息</span><br><span class="line">clean 清理yum元数据缓存</span><br><span class="line">makecache 创建yum元数据缓存</span><br><span class="line">deplist 列出软件包的所有依赖关系</span><br><span class="line">provides 显示软件包的提供来源</span><br><span class="line">repolist 显示已配置的源</span><br><span class="line">history 显示操作历史</span><br><span class="line">version  显示可用的源版本。</span><br></pre></td></tr></table></figure></p>
<h1 id="进程相关命令"><a href="#进程相关命令" class="headerlink" title="进程相关命令"></a>进程相关命令</h1><h2 id="crontab（任务调度工具）"><a href="#crontab（任务调度工具）" class="headerlink" title="crontab（任务调度工具）"></a>crontab（任务调度工具）</h2><p>禁止使用任务调度的用户列表：/etc/cron.deny<br>系统任务调度配置文件：/etc/crontab<br>用户任务调度目录：/var/spool/cron/</p>
<p>crontab [选项]<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-u &lt;user&gt;  定义某用户，不指定则使用当前用户</span><br><span class="line">-e         编辑任务</span><br><span class="line">-l         列出任务</span><br><span class="line">-r         删除任务文件</span><br><span class="line">-i         删除前提示</span><br><span class="line"> </span><br><span class="line">给当前登录用户设置任务</span><br><span class="line"><span class="comment"># crontab -e</span></span><br><span class="line">*/<span class="number">3</span> * * * * echo `<span class="built_in">date</span>` &gt;&gt; ~/<span class="built_in">date</span>-<span class="built_in">file</span></span><br><span class="line"></span><br><span class="line">格式：</span><br><span class="line">minute  hour  <span class="built_in">day</span>   <span class="built_in">month</span>  week  command</span><br><span class="line"><span class="number">0</span><span class="number">-59</span>    <span class="number">0</span><span class="number">-23</span>  <span class="number">1</span><span class="number">-31</span>  <span class="number">1</span><span class="number">-12</span>   <span class="number">0</span><span class="number">-7</span></span><br><span class="line"></span><br><span class="line">特殊值：</span><br><span class="line">*：所有值， 如 <span class="number">00</span> <span class="number">03</span> * * * 代表每天<span class="number">3</span>:<span class="number">00</span>执行</span><br><span class="line">,：并列取值，如 <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line">-：范围取值，如 <span class="number">1</span><span class="number">-6</span></span><br><span class="line">/：周期取值，如 */<span class="number">3</span> 每三分钟执行</span><br></pre></td></tr></table></figure></p>
<h2 id="nohup-和-amp-（后台运行）"><a href="#nohup-和-amp-（后台运行）" class="headerlink" title="nohup 和 &amp; （后台运行）"></a>nohup 和 &amp; （后台运行）</h2><p>nohup（no hang up）命令运行由其后面指定的command参数和args参数，并将其控制台输出默认追加到nohup.out。要使其后台运行，在尾部添加 &amp;。<br>通常这么玩<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nohup java -jar test.jar &gt; <span class="regexp">/dev/</span><span class="keyword">null</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span>  &amp;</span><br></pre></td></tr></table></figure></p>
<h2 id="kill（关闭进程）"><a href="#kill（关闭进程）" class="headerlink" title="kill（关闭进程）"></a>kill（关闭进程）</h2><p>kill [信号] PID<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">不指定信号，默认就是<span class="number">15</span>。</span><br><span class="line"></span><br><span class="line">常用信号：</span><br><span class="line"><span class="number">1</span> SIGHUP 挂起进程</span><br><span class="line"><span class="number">2</span> SIGINT 终止进程（同 Ctrl + C）</span><br><span class="line"><span class="number">3</span> SIGQUIT 退出进程（同 Ctrl + \）</span><br><span class="line"><span class="number">9</span> SIGKILL 无条件终止进程</span><br><span class="line"><span class="number">15</span> SIGTERM 尽可能终止进程</span><br><span class="line"><span class="number">17</span> SIGSTOP 无条件停止进程</span><br><span class="line"><span class="number">18</span> SIGTSTP 停止或暂停进程（同 Ctrl + Z）</span><br><span class="line"><span class="number">19</span> SIGCONT 继续运行停止的进程（与SIGTSTP相反， fg/bg命令）</span><br><span class="line"></span><br><span class="line">全部信号：</span><br><span class="line"># kill -l</span><br><span class="line"> <span class="number">1</span>) SIGHUP	 <span class="number">2</span>) SIGINT	 <span class="number">3</span>) SIGQUIT	 <span class="number">4</span>) SIGILL	 <span class="number">5</span>) SIGTRAP</span><br><span class="line"> <span class="number">6</span>) SIGABRT	 <span class="number">7</span>) SIGBUS	 <span class="number">8</span>) SIGFPE	 <span class="number">9</span>) SIGKILL	<span class="number">10</span>) SIGUSR1</span><br><span class="line"><span class="number">11</span>) SIGSEGV	<span class="number">12</span>) SIGUSR2	<span class="number">13</span>) SIGPIPE	<span class="number">14</span>) SIGALRM	<span class="number">15</span>) SIGTERM</span><br><span class="line"><span class="number">16</span>) SIGSTKFLT	<span class="number">17</span>) SIGCHLD	<span class="number">18</span>) SIGCONT	<span class="number">19</span>) SIGSTOP	<span class="number">20</span>) SIGTSTP</span><br><span class="line"><span class="number">21</span>) SIGTTIN	<span class="number">22</span>) SIGTTOU	<span class="number">23</span>) SIGURG	<span class="number">24</span>) SIGXCPU	<span class="number">25</span>) SIGXFSZ</span><br><span class="line"><span class="number">26</span>) SIGVTALRM	<span class="number">27</span>) SIGPROF	<span class="number">28</span>) SIGWINCH	<span class="number">29</span>) SIGIO	<span class="number">30</span>) SIGPWR</span><br><span class="line"><span class="number">31</span>) SIGSYS	<span class="number">34</span>) SIGRTMIN	<span class="number">35</span>) SIGRTMIN+<span class="number">1</span>	<span class="number">36</span>) SIGRTMIN+<span class="number">2</span>	<span class="number">37</span>) SIGRTMIN+<span class="number">3</span></span><br><span class="line"><span class="number">38</span>) SIGRTMIN+<span class="number">4</span>	<span class="number">39</span>) SIGRTMIN+<span class="number">5</span>	<span class="number">40</span>) SIGRTMIN+<span class="number">6</span>	<span class="number">41</span>) SIGRTMIN+<span class="number">7</span>	<span class="number">42</span>) SIGRTMIN+<span class="number">8</span></span><br><span class="line"><span class="number">43</span>) SIGRTMIN+<span class="number">9</span>	<span class="number">44</span>) SIGRTMIN+<span class="number">10</span>	<span class="number">45</span>) SIGRTMIN+<span class="number">11</span>	<span class="number">46</span>) SIGRTMIN+<span class="number">12</span>	<span class="number">47</span>) SIGRTMIN+<span class="number">13</span></span><br><span class="line"><span class="number">48</span>) SIGRTMIN+<span class="number">14</span>	<span class="number">49</span>) SIGRTMIN+<span class="number">15</span>	<span class="number">50</span>) SIGRTMAX<span class="number">-14</span>	<span class="number">51</span>) SIGRTMAX<span class="number">-13</span>	<span class="number">52</span>) SIGRTMAX<span class="number">-12</span></span><br><span class="line"><span class="number">53</span>) SIGRTMAX<span class="number">-11</span>	<span class="number">54</span>) SIGRTMAX<span class="number">-10</span>	<span class="number">55</span>) SIGRTMAX<span class="number">-9</span>	<span class="number">56</span>) SIGRTMAX<span class="number">-8</span>	<span class="number">57</span>) SIGRTMAX<span class="number">-7</span></span><br><span class="line"><span class="number">58</span>) SIGRTMAX<span class="number">-6</span>	<span class="number">59</span>) SIGRTMAX<span class="number">-5</span>	<span class="number">60</span>) SIGRTMAX<span class="number">-4</span>	<span class="number">61</span>) SIGRTMAX<span class="number">-3</span>	<span class="number">62</span>) SIGRTMAX<span class="number">-2</span></span><br><span class="line"><span class="number">63</span>) SIGRTMAX<span class="number">-1</span>	<span class="number">64</span>) SIGRTMAX</span><br></pre></td></tr></table></figure></p>
<h2 id="lsof（进程查看工具）"><a href="#lsof（进程查看工具）" class="headerlink" title="lsof（进程查看工具）"></a>lsof（进程查看工具）</h2><p>lsof [选项] [参数]<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">-a：使用<span class="keyword">AND</span>逻辑，合并选项输出内容</span><br><span class="line">-c：列出名称以指定名称开头的进程打开的文件</span><br><span class="line">-d：列出打开指定文件描述的进程</span><br><span class="line">+d：列出目录下被打开的文件</span><br><span class="line">+D：递归列出目录下被打开的文件</span><br><span class="line">-n：列出使用NFS的文件</span><br><span class="line">-u：列出指定用户打开的文件</span><br><span class="line">-p：列出指定进程号所打开的文件</span><br><span class="line">-i：列出打开的套接字（4、6、协议:端口、 @ip ）</span><br><span class="line"></span><br><span class="line"><span class="comment"># lsof -i :80</span></span><br><span class="line">COMMAND   PID <span class="built_in"> USER </span>  FD  <span class="built_in"> TYPE </span>DEVICE SIZE/OFF NODE NAME</span><br><span class="line">nginx   10112  root    6u  IPv4  56628      0t0  TCP *:http (LISTEN)</span><br><span class="line">nginx   10113 nginx    6u  IPv4  56628      0t0  TCP *:http (LISTEN)</span><br><span class="line"></span><br><span class="line">字段含义:</span><br><span class="line">COMMAND 进程名</span><br><span class="line">PID 进程ID</span><br><span class="line">USER 进程执行者</span><br><span class="line">FD 文件描述符/文件打开模式/文件锁类型</span><br><span class="line">TYPE 文件关联类型</span><br><span class="line">DEVICE 占用磁盘的名称</span><br><span class="line">SIZE/OFF 文件的大小</span><br><span class="line">NODE inode/协议</span><br><span class="line">NAME 打开文件/套接字的名称</span><br><span class="line"></span><br><span class="line">举例：</span><br><span class="line">列出80端口TCP协议的所有连接</span><br><span class="line"><span class="comment"># lsof -i tcp:80</span></span><br><span class="line">列出25端口UDP协议的所有连接</span><br><span class="line"><span class="comment"># lsof -i udp:25</span></span><br><span class="line">列出以ngin开头的进程打开的文件列表</span><br><span class="line"><span class="comment"># lsof -c nginx</span></span><br><span class="line">列出指定进程打开的文件列表</span><br><span class="line"><span class="comment"># lsof -p 10112</span></span><br><span class="line">列出指定用户打开的文件列表</span><br><span class="line"><span class="comment"># lsof -u nitaoge</span></span><br><span class="line">将所有的TCP网络连接信息和指定用户打开的文件列表信息一起输出</span><br><span class="line"><span class="comment"># lsof -u nitaoge -i tcp</span></span><br><span class="line">将指定用户打开的文件列表信息，同时是TCP网络连接信息的一起输出</span><br><span class="line"><span class="comment"># lsof -a -u nitaoge -i tcp</span></span><br><span class="line">列出目录下被进程打开的文件列表</span><br><span class="line"><span class="comment"># lsof +d /usr/sbin/</span></span><br><span class="line">递归搜索目录下被进程打开的文件列表</span><br><span class="line"><span class="comment"># lsof +D /usr/sbin/</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ps（查看进程状态）"><a href="#ps（查看进程状态）" class="headerlink" title="ps（查看进程状态）"></a>ps（查看进程状态）</h2><p>常用选项组合就两个<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">显示进程的执行用户、进程ID、父进程ID、CPU利用率（整数百分比）、启动时间、执行终端、运行时长、执行命令</span><br><span class="line"><span class="comment"># ps -ef </span></span><br><span class="line">UID        PID  PPID  C STIME TTY          TIME CMD</span><br><span class="line">root         1     0  0 15:19 ?        00:00:00 /usr/lib/systemd/systemd <span class="comment">--switched-root --system --deserialize 22</span></span><br><span class="line">root         2     0  0 15:19 ?        00:00:00 [kthreadd]</span><br><span class="line">root         3     2  0 15:19 ?        00:00:00 [ksoftirqd/0]</span><br><span class="line"></span><br><span class="line">显示进程的执行用户、进程ID、CPU使用率、内存使用率、使用虚拟内存量、使用物理内存量、执行终端、进程状态、启动时间、运行时长、执行命令</span><br><span class="line"><span class="comment"># ps axu</span></span><br><span class="line">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT <span class="keyword">START</span>   <span class="built_in">TIME</span> COMMAND</span><br><span class="line">root         <span class="number">1</span>  <span class="number">0.0</span>  <span class="number">0.2</span> <span class="number">190964</span>  <span class="number">3820</span> ?        Ss   <span class="number">15</span>:<span class="number">19</span>   <span class="number">0</span>:<span class="number">00</span> /usr/lib/systemd/systemd <span class="comment">--switched-root --system --deserialize 22</span></span><br><span class="line">root         <span class="number">2</span>  <span class="number">0.0</span>  <span class="number">0.0</span>      <span class="number">0</span>     <span class="number">0</span> ?        S    <span class="number">15</span>:<span class="number">19</span>   <span class="number">0</span>:<span class="number">00</span> [kthreadd]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">其中stat进程状态包括：</span><br><span class="line">D = uninterruptible <span class="keyword">sleep</span> 不可中断休眠，不接受任何控制信号。</span><br><span class="line">R = running 正在运行。</span><br><span class="line">S = sleeping 正在休眠。</span><br><span class="line">T = stopped <span class="keyword">by</span> job control signal 被控制信号停止。</span><br><span class="line">t = stopped <span class="keyword">by</span> debugger during <span class="keyword">trace</span> 被追踪调试停止。</span><br><span class="line">Z = zombie 僵尸进程。</span><br><span class="line"></span><br><span class="line">&lt;  <span class="keyword">high</span>-<span class="keyword">priority</span> (<span class="keyword">not</span> nice <span class="keyword">to</span> other <span class="keyword">users</span>) 高优先级，对其他用户进程不友好。</span><br><span class="line">N   <span class="keyword">low</span>-<span class="keyword">priority</span> (nice <span class="keyword">to</span> other <span class="keyword">users</span>) 低优先级，对其他用户进程友好。</span><br><span class="line">L   has pages <span class="keyword">locked</span> <span class="keyword">into</span> <span class="keyword">memory</span> (<span class="keyword">for</span> <span class="built_in">real</span>-<span class="built_in">time</span> <span class="keyword">and</span> custom IO) 有些页被锁进内存，用于实时和自定义IO。</span><br><span class="line">s   <span class="keyword">is</span> a <span class="keyword">session</span> leader 包含子进程。</span><br><span class="line">l  <span class="keyword">is</span> multi-threaded (<span class="keyword">using</span> CLONE_THREAD, <span class="keyword">like</span> NPTL pthreads <span class="keyword">do</span>) 多线程进程，使用<span class="keyword">clone</span>()创建的<span class="keyword">Native</span> POSIX <span class="keyword">Thread</span> <span class="keyword">Library</span>（NPTL）线程，</span><br><span class="line">+  <span class="keyword">is</span> <span class="keyword">in</span> the foreground process <span class="keyword">group</span> 位于前台的进程组。</span><br></pre></td></tr></table></figure></p>
<p>详细选项如下：<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">a：显示所有终端机下执行的程序，除了阶段作业领导者之外。</span></span><br><span class="line"><span class="ruby">a：显示现行终端机下的所有程序，包括其他用户的程序。</span></span><br><span class="line"><span class="ruby">-A：显示所有程序。</span></span><br><span class="line"><span class="ruby">-c：显示CLS和PRI栏位。</span></span><br><span class="line"><span class="ruby">c：列出程序时，显示每个程序真正的指令名称，而不包含路径，选项或常驻服务的标示。</span></span><br><span class="line"><span class="ruby">-C&lt;指令名称&gt;：指定执行指令的名称，并列出该指令的程序的状况。</span></span><br><span class="line"><span class="ruby">-d：显示所有程序，但不包括阶段作业领导者的程序。</span></span><br><span class="line"><span class="ruby">-e：此选项的效果和指定<span class="string">"A"</span>选项相同。</span></span><br><span class="line"><span class="ruby">e：列出程序时，显示每个程序所使用的环境变量。</span></span><br><span class="line"><span class="ruby">-f：显示UID,PPIP,C与STIME栏位。</span></span><br><span class="line"><span class="ruby">f：用ASCII字符显示树状结构，表达程序间的相互关系。</span></span><br><span class="line"><span class="ruby">-g&lt;群组名称&gt;：此选项的效果和指定<span class="string">"-G"</span>选项相同，当亦能使用阶段作业领导者的名称来指定。</span></span><br><span class="line"><span class="ruby">g：显示现行终端机下的所有程序，包括群组领导者的程序。</span></span><br><span class="line"><span class="ruby">-G&lt;群组识别码&gt;：列出属于该群组的程序的状况，也可使用群组名称来指定。</span></span><br><span class="line"><span class="ruby">h：不显示标题列。</span></span><br><span class="line"><span class="ruby">-H：显示树状结构，表示程序间的相互关系。</span></span><br><span class="line"><span class="ruby">-j或j：采用工作控制的格式显示程序状况。</span></span><br><span class="line"><span class="ruby">-l或l：采用详细的格式来显示程序状况。</span></span><br><span class="line"><span class="ruby">L：列出栏位的相关信息。</span></span><br><span class="line"><span class="ruby">-m或m：显示所有的执行绪。</span></span><br><span class="line"><span class="ruby">n：以数字来表示USER和WCHAN栏位。</span></span><br><span class="line"><span class="ruby">-N：显示所有的程序，除了执行ps指令终端机下的程序之外。</span></span><br><span class="line"><span class="ruby">-p&lt;程序识别码&gt;：指定程序识别码，并列出该程序的状况。</span></span><br><span class="line"><span class="ruby">p&lt;程序识别码&gt;：此选项的效果和指定<span class="string">"-p"</span>选项相同，只在列表格式方面稍有差异。</span></span><br><span class="line"><span class="ruby">r：只列出现行终端机正在执行中的程序。</span></span><br><span class="line"><span class="ruby">-s&lt;阶段作业&gt;：指定阶段作业的程序识别码，并列出隶属该阶段作业的程序的状况。</span></span><br><span class="line"><span class="ruby">s：采用程序信号的格式显示程序状况。</span></span><br><span class="line"><span class="ruby">S：列出程序时，包括已中断的子程序资料。</span></span><br><span class="line"><span class="ruby">-t&lt;终端机编号&gt;：指定终端机编号，并列出属于该终端机的程序的状况。</span></span><br><span class="line"><span class="ruby">t&lt;终端机编号&gt;：此选项的效果和指定<span class="string">"-t"</span>选项相同，只在列表格式方面稍有差异。</span></span><br><span class="line"><span class="ruby">-T：显示现行终端机下的所有程序。</span></span><br><span class="line"><span class="ruby">-u&lt;用户识别码&gt;：此选项的效果和指定<span class="string">"-U"</span>选项相同。</span></span><br><span class="line"><span class="ruby">u：以用户为主的格式来显示程序状况。</span></span><br><span class="line"><span class="ruby">-U&lt;用户识别码&gt;：列出属于该用户的程序的状况，也可使用用户名称来指定。</span></span><br><span class="line"><span class="ruby">U&lt;用户名称&gt;：列出属于该用户的程序的状况。</span></span><br><span class="line"><span class="ruby">v：采用虚拟内存的格式显示程序状况。</span></span><br><span class="line"><span class="ruby">-V或V：显示版本信息。</span></span><br><span class="line"><span class="ruby">-w或w：采用宽阔的格式来显示程序状况。　</span></span><br><span class="line"><span class="ruby">x：显示所有程序，不以终端机来区分。</span></span><br><span class="line"><span class="ruby">X：采用旧式的Linux i386登陆格式显示程序状况。</span></span><br><span class="line"><span class="ruby">-y：配合选项<span class="string">"-l"</span>使用时，不显示F(flag)栏位，并以RSS栏位取代ADDR栏位　。</span></span><br><span class="line"><span class="ruby">-&lt;程序识别码&gt;：此选项的效果和指定<span class="string">"p"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--cols&lt;每列字符数&gt;：设置每列的最大字符数。</span></span><br><span class="line"><span class="ruby">--columns&lt;每列字符数&gt;：此选项的效果和指定<span class="string">"--cols"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--cumulative：此选项的效果和指定<span class="string">"S"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--deselect：此选项的效果和指定<span class="string">"-N"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--forest：此选项的效果和指定<span class="string">"f"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--headers：重复显示标题列。</span></span><br><span class="line"><span class="ruby">--help：在线帮助。</span></span><br><span class="line"><span class="ruby">--info：显示排错信息。</span></span><br><span class="line"><span class="ruby">--lines&lt;显示列数&gt;：设置显示画面的列数。</span></span><br><span class="line"><span class="ruby">--no-headers：此选项的效果和指定<span class="string">"h"</span>选项相同，只在列表格式方面稍有差异。</span></span><br><span class="line"><span class="ruby">--group&lt;群组名称&gt;：此选项的效果和指定<span class="string">"-G"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--Group&lt;群组识别码&gt;：此选项的效果和指定<span class="string">"-G"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--pid&lt;程序识别码&gt;：此选项的效果和指定<span class="string">"-p"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--rows&lt;显示列数&gt;：此选项的效果和指定<span class="string">"--lines"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--sid&lt;阶段作业&gt;：此选项的效果和指定<span class="string">"-s"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--tty&lt;终端机编号&gt;：此选项的效果和指定<span class="string">"-t"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--user&lt;用户名称&gt;：此选项的效果和指定<span class="string">"-U"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--User&lt;用户识别码&gt;：此选项的效果和指定<span class="string">"-U"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--version：此选项的效果和指定<span class="string">"-V"</span>选项相同。</span></span><br><span class="line"><span class="ruby">--widty&lt;每列字符数&gt;：此选项的效果和指定<span class="string">"-cols"</span>选项相同。</span></span><br></pre></td></tr></table></figure></p>
<h2 id="top-（系统实时监控工具）"><a href="#top-（系统实时监控工具）" class="headerlink" title="top （系统实时监控工具）"></a>top （系统实时监控工具）</h2><p>选项参数：<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-c 显示完整的命令路径</span></span><br><span class="line"><span class="deletion">-d 屏幕刷新间隔时间</span></span><br><span class="line"><span class="deletion">-i 不显示空闲或僵尸进程</span></span><br><span class="line"><span class="deletion">-s 安全模式，不能使用交互命令</span></span><br><span class="line"><span class="deletion">-n 指定刷新次数，到达次数退出</span></span><br><span class="line"><span class="deletion">-u&lt;用户名&gt; 指定用户名</span></span><br><span class="line"><span class="deletion">-p&lt;进程号&gt; 指定进程</span></span><br></pre></td></tr></table></figure></p>
<p>交互命令：<br><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">h或? 显示帮助画面</span><br><span class="line">k 终止一个进程</span><br><span class="line">i 切换是否忽略闲置和僵死进程</span><br><span class="line">q 退出</span><br><span class="line">r 重新设置一个进程的优先级别；</span><br><span class="line">S：切换到累计模式；</span><br><span class="line">s：改变两次刷新之间的延迟时间（单位为s），如果有小数，就换算成ms。输入<span class="number">0</span>值则系统将不断刷新，默认值是<span class="number">5</span>s；</span><br><span class="line">f或者F：从当前显示中添加或者删除项目；</span><br><span class="line">o或者O：改变显示项目的顺序；</span><br><span class="line">l：切换显示平均负载和启动时间信息；</span><br><span class="line">m：切换显示内存信息；</span><br><span class="line"><span class="built_in">t</span>：切换显示进程和CPU状态信息；</span><br><span class="line">c：切换显示命令名称和完整命令行；</span><br><span class="line">M：根据驻留内存大小进行排序；</span><br><span class="line">P：根据CPU使用百分比大小进行排序；</span><br><span class="line"><span class="built_in">T</span>：根据时间/累计时间进行排序；</span><br><span class="line">w：将当前设置写入~/.toprc文件中。</span><br></pre></td></tr></table></figure></p>
<p>显示字段说明：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">top - 20:36:45 up  5:16,  3 users,  load average: 0.00, 0.01, 0.02</span><br><span class="line">Tasks: 117 total,   1 running, 116 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  0.2 us,  0.2 sy,  0.0 ni, 99.7 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">KiB Mem :  1877572 total,  1624236 free,    90456 used,   162880 buff/cache</span><br><span class="line">KiB Swap:        0 total,        0 free,        0 used.  1621872 avail Mem</span><br><span class="line"></span><br><span class="line">  PID<span class="built_in"> USER </span>     PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br><span class="line">   3801 root      20   0  573820  17240   6076 S   0.0  0.9   0:02.64 tuned</span><br><span class="line">   </span><br><span class="line">top - </span><br><span class="line">20:36:45[当前系统时间]</span><br><span class="line">up 5:16[系统已经运行了5小时16分钟]</span><br><span class="line">3 users[当前登录3个用户]</span><br><span class="line">load average: 0.00, 0.01, 0.02[平均负载，即任务队列的平均长度]</span><br><span class="line"></span><br><span class="line">Tasks: </span><br><span class="line">117 total[总进程数]</span><br><span class="line">1 running[正在运行的进程数]</span><br><span class="line">116 sleeping[睡眠的进程数]</span><br><span class="line">0 stopped[停止进程数]</span><br><span class="line">0 zombie[僵尸进程数]</span><br><span class="line"></span><br><span class="line">%Cpu(s):  </span><br><span class="line">us,<span class="built_in"> user </span>   : time running un-niced<span class="built_in"> user </span>processes[用户空间CPU使用率]</span><br><span class="line">sy,<span class="built_in"> system </span> : time running kernel processes[内核空间CPU使用率]</span><br><span class="line">ni, nice    : time running niced<span class="built_in"> user </span>processes[用户空间内改变过优先级的进程的CPU使用率]</span><br><span class="line">id, idle    : time spent <span class="keyword">in</span> the kernel idle handler[CPU空闲率]</span><br><span class="line">wa, IO-wait : time waiting <span class="keyword">for</span> I/O completion[等待输入输出完成的CPU使用率]</span><br><span class="line">hi : time spent servicing<span class="built_in"> hardware </span>interrupts[硬件中断的CPU使用率]</span><br><span class="line">si : time spent servicing software interrupts[软件中断的CPU使用率]</span><br><span class="line">st : time stolen <span class="keyword">from</span> this vm by the hypervisor[被Hypervisor偷去给其它虚拟机使用的CPU使用率]</span><br><span class="line"></span><br><span class="line">KiB Mem :</span><br><span class="line">1877572 total[物理内存总量]</span><br><span class="line">1624236 free[空闲内存总量]</span><br><span class="line">90456 used[已使用的物理内存总量]</span><br><span class="line">162880 buff/cache[用作内核缓冲区/缓存的内存量]</span><br><span class="line">0 total,        0 free,        0 used.  1621872 avail Mem</span><br><span class="line"></span><br><span class="line">KiB Swap:</span><br><span class="line">0 total[交换分区总量]</span><br><span class="line">0 free[空闲交换分区总量]</span><br><span class="line">0 used[已使用交换分区总量]</span><br><span class="line">1621872 avail Mem[可用]</span><br><span class="line"></span><br><span class="line">Head:</span><br><span class="line">PID[进程ID]</span><br><span class="line">USER[执行用户]</span><br><span class="line">PR[进程优先级]</span><br><span class="line">NI[友好程度-nice值]</span><br><span class="line">VIRT[占用虚拟内存量KB]</span><br><span class="line">RES[占用物理内存量KB]</span><br><span class="line">SHR[共享内存量KB]</span><br><span class="line">S[状态码同ps]</span><br><span class="line">%CPU[CPU使用率]</span><br><span class="line">%MEM[内存使用率]</span><br><span class="line">TIME+[运行时长]</span><br><span class="line">COMMAND[执行程序]</span><br></pre></td></tr></table></figure></p>
<p>priority和nice的关系：<br>有个一般公式，PRI(new) = PRI(old) + NI，所以PRI和NI都会影响进程执行的优先级（值越低，优先级越高），但PRI的最终值还需要由OS分析决定。<br>Priority/PRI：由OS内核动态调整，用户不能调整。<br>Nice/NI：用户可以自己调整。</p>
<h2 id="nice-renice（设置进程友好程度）"><a href="#nice-renice（设置进程友好程度）" class="headerlink" title="nice/renice（设置进程友好程度）"></a>nice/renice（设置进程友好程度）</h2><p>nice值是反应一个进程友好程度的值，<br>值越大，表示进程对其他进程更友好，“优先级”越低。<br>值越小，”优先级”越高，<br>其取值范围是-20至19，超过范围设置成最值。<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">以设定nice值执行命令</span><br><span class="line"># nice -n <span class="number">100</span> top &amp;</span><br><span class="line">[<span class="number">1</span>] <span class="number">6179</span></span><br><span class="line"></span><br><span class="line">重设nice值</span><br><span class="line"># renice -n <span class="number">100</span> <span class="number">6131</span></span><br><span class="line"><span class="number">6131</span> (进程 ID) 旧优先级为 <span class="number">-20</span>，新优先级为 <span class="number">19</span></span><br><span class="line"># renice -n <span class="number">-100</span> <span class="number">6131</span></span><br><span class="line"><span class="number">6131</span> (进程 ID) 旧优先级为 <span class="number">19</span>，新优先级为 <span class="number">-20</span></span><br></pre></td></tr></table></figure></p>
<h1 id="系统相关命令"><a href="#系统相关命令" class="headerlink" title="系统相关命令"></a>系统相关命令</h1><h2 id="uname（显示操作系统相关信息）"><a href="#uname（显示操作系统相关信息）" class="headerlink" title="uname（显示操作系统相关信息）"></a>uname（显示操作系统相关信息）</h2><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># uname -a</span><br><span class="line">Linux vhosttest <span class="number">3.10</span>.<span class="number">0</span><span class="number">-957</span>.el<span class="number">7</span>.<span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> <span class="symbol">#1</span> SMP Thu Nov <span class="number">8</span> <span class="number">23</span>:<span class="number">39</span>:<span class="number">32</span> UTC <span class="number">2018</span> <span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> <span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> <span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> GNU/Linux</span><br></pre></td></tr></table></figure>
<h2 id="uptime（显示系统负载）"><a href="#uptime（显示系统负载）" class="headerlink" title="uptime（显示系统负载）"></a>uptime（显示系统负载）</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">uptime</span></span><br><span class="line"> 18<span class="selector-pseudo">:48</span><span class="selector-pseudo">:28</span> <span class="selector-tag">up</span>  3<span class="selector-pseudo">:28</span>,  3 <span class="selector-tag">users</span>,  <span class="selector-tag">load</span> <span class="selector-tag">average</span>: 0<span class="selector-class">.00</span>, 0<span class="selector-class">.01</span>, 0<span class="selector-class">.01</span></span><br></pre></td></tr></table></figure>
<p>load average平均负载: 分别是1分钟、5分钟、15分钟内系统的平均负载</p>
<p>那么什么是系统平均负载呢？ 系统平均负载是指在特定时间间隔内运行队列中的平均进程数。<br>如果每个CPU内核的当前活动进程数不大于3的话，那么系统的性能是良好的。如果每个CPU内核的任务数大于5，那么这台机器的性能有严重问题。</p>
<h2 id="dmesg（查看开机信息）"><a href="#dmesg（查看开机信息）" class="headerlink" title="dmesg（查看开机信息）"></a>dmesg（查看开机信息）</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dmesg | more</span></span><br></pre></td></tr></table></figure>
<h2 id="free（查看内存使用情况）"><a href="#free（查看内存使用情况）" class="headerlink" title="free（查看内存使用情况）"></a>free（查看内存使用情况）</h2><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-b -k -m -g 以B、KB、MB、GB为单位显示</span></span><br><span class="line"><span class="deletion">-s&lt;间隔秒数&gt; 周期显示内存使用情况</span></span><br><span class="line"><span class="deletion">-t 显示所有内存的总和列</span></span><br></pre></td></tr></table></figure>
<h1 id="硬件设备相关命令"><a href="#硬件设备相关命令" class="headerlink" title="硬件设备相关命令"></a>硬件设备相关命令</h1><h2 id="查看PCI设备"><a href="#查看PCI设备" class="headerlink" title="查看PCI设备"></a>查看PCI设备</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># lspci</span><br><span class="line"><span class="number">00</span>:<span class="number">00</span>.<span class="number">0</span> Host <span class="keyword">bridge: </span>Intel Corporation <span class="number">82</span>P965/G965 Memory Controller Hub (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">01</span>.<span class="number">0</span> PCI <span class="keyword">bridge: </span>Intel Corporation <span class="number">82</span>G35 Express PCI Express Root Port (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">03</span>.<span class="number">0</span> Unassigned class [ff00]: Parallels, Inc. Virtual Machine Communication Interface</span><br><span class="line"><span class="number">00</span>:<span class="number">05</span>.<span class="number">0</span> Ethernet controller: Red Hat, Inc. Virtio network device</span><br><span class="line"><span class="number">00</span>:<span class="number">0</span>a.<span class="number">0</span> PCI <span class="keyword">bridge: </span>Digital Equipment Corporation DECchip <span class="number">21150</span></span><br><span class="line"><span class="number">00</span>:<span class="number">0</span>e.<span class="number">0</span> RAM memory: Red Hat, Inc. Virtio memory <span class="keyword">balloon</span></span><br><span class="line"><span class="keyword">00:1d.0 </span>USB controller: Intel Corporation <span class="number">82801</span>FB/FBM/FR/FW/FRW (ICH6 Family) USB UHCI <span class="number">#1</span> (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>d.<span class="number">6</span> USB controller: NEC Corporation uPD720200 USB <span class="number">3</span>.<span class="number">0</span> Host Controller (<span class="keyword">rev </span><span class="number">04</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>d.<span class="number">7</span> USB controller: Intel Corporation <span class="number">82801</span>FB/FBM/FR/FW/FRW (ICH6 Family) USB2 EHCI Controller (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>e.<span class="number">0</span> PCI <span class="keyword">bridge: </span>Intel Corporation <span class="number">82801</span> PCI <span class="keyword">Bridge </span>(<span class="keyword">rev </span><span class="built_in">f2</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>f.<span class="number">0</span> ISA <span class="keyword">bridge: </span>Intel Corporation <span class="number">82801</span>HB/HR (ICH8/R) LPC Interface Controller (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>f.<span class="number">1</span> IDE interface: Intel Corporation <span class="number">82801</span>BA IDE U100 Controller (<span class="keyword">rev </span><span class="number">05</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>f.<span class="number">2</span> SATA controller: Intel Corporation <span class="number">82801</span>HR/HO/HH (ICH8R/DO/DH) <span class="number">6</span> port SATA Controller [AHCI mode] (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>f.<span class="number">3</span> SMBus: Intel Corporation <span class="number">82801</span>H (ICH8 Family) SMBus Controller (<span class="keyword">rev </span><span class="number">02</span>)</span><br><span class="line"><span class="number">00</span>:<span class="number">1</span>f.<span class="number">4</span> <span class="keyword">Multimedia </span>audio controller: Intel Corporation <span class="number">82801</span>BA/<span class="keyword">BAM </span>AC<span class="string">'97 Audio Controller (rev 02)</span></span><br><span class="line"><span class="string">01:00.0 VGA compatible controller: Parallels, Inc. Accelerated Virtual Video Adapter</span></span><br></pre></td></tr></table></figure>
<h2 id="查看CPU信息"><a href="#查看CPU信息" class="headerlink" title="查看CPU信息"></a>查看CPU信息</h2><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /proc/cpuinfo</span></span><br><span class="line"><span class="attribute">processor	</span>: 0</span><br><span class="line"><span class="attribute">vendor_id	</span>: GenuineIntel</span><br><span class="line"><span class="attribute">cpu family	</span>: 6</span><br><span class="line"><span class="attribute">model		</span>: 158</span><br><span class="line"><span class="attribute">model name	</span>: Intel(R) Core(TM) i7-7820HQ CPU @ 2.90GHz</span><br><span class="line"><span class="attribute">stepping	</span>: 9</span><br><span class="line"><span class="attribute">microcode	</span>: 0x9a</span><br><span class="line"><span class="attribute">cpu MHz		</span>: 2904.000</span><br><span class="line"><span class="attribute">cache size	</span>: 8192 KB</span><br><span class="line"><span class="attribute">physical id	</span>: 0</span><br><span class="line"><span class="attribute">siblings	</span>: 2</span><br><span class="line"><span class="attribute">core id		</span>: 0</span><br><span class="line"><span class="attribute">cpu cores	</span>: 2</span><br><span class="line"><span class="attribute">apicid		</span>: 0</span><br><span class="line"><span class="attribute">initial apicid	</span>: 0</span><br><span class="line"><span class="attribute">fpu		</span>: yes</span><br><span class="line"><span class="attribute">fpu_exception	</span>: yes</span><br><span class="line"><span class="attribute">cpuid level	</span>: 22</span><br><span class="line"><span class="attribute">wp		</span>: yes</span><br><span class="line"><span class="attribute">flags		</span>: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc nopl xtopology nonstop_tsc eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 invpcid mpx rdseed adx smap clflushopt xsaveopt xsavec dtherm arat pln pts</span><br><span class="line"><span class="attribute">bogomips	</span>: 5808.00</span><br><span class="line"><span class="attribute">clflush size	</span>: 64</span><br><span class="line"><span class="attribute">cache_alignment	</span>: 64</span><br><span class="line"><span class="attribute">address sizes	</span>: 36 bits physical, 48 bits virtual</span><br><span class="line"><span class="attribute">power management:</span></span><br><span class="line"><span class="attribute"></span></span><br><span class="line"><span class="attribute">processor	</span>: 1</span><br><span class="line"><span class="attribute">vendor_id	</span>: GenuineIntel</span><br><span class="line"><span class="attribute">cpu family	</span>: 6</span><br><span class="line"><span class="attribute">model		</span>: 158</span><br><span class="line"><span class="attribute">model name	</span>: Intel(R) Core(TM) i7-7820HQ CPU @ 2.90GHz</span><br><span class="line"><span class="attribute">stepping	</span>: 9</span><br><span class="line"><span class="attribute">microcode	</span>: 0x9a</span><br><span class="line"><span class="attribute">cpu MHz		</span>: 2904.000</span><br><span class="line"><span class="attribute">cache size	</span>: 8192 KB</span><br><span class="line"><span class="attribute">physical id	</span>: 0</span><br><span class="line"><span class="attribute">siblings	</span>: 2</span><br><span class="line"><span class="attribute">core id		</span>: 1</span><br><span class="line"><span class="attribute">cpu cores	</span>: 2</span><br><span class="line"><span class="attribute">apicid		</span>: 1</span><br><span class="line"><span class="attribute">initial apicid	</span>: 1</span><br><span class="line"><span class="attribute">fpu		</span>: yes</span><br><span class="line"><span class="attribute">fpu_exception	</span>: yes</span><br><span class="line"><span class="attribute">cpuid level	</span>: 22</span><br><span class="line"><span class="attribute">wp		</span>: yes</span><br><span class="line"><span class="attribute">flags		</span>: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx rdtscp lm constant_tsc nopl xtopology nonstop_tsc eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 invpcid mpx rdseed adx smap clflushopt xsaveopt xsavec dtherm arat pln pts</span><br><span class="line"><span class="attribute">bogomips	</span>: 5808.00</span><br><span class="line"><span class="attribute">clflush size	</span>: 64</span><br><span class="line"><span class="attribute">cache_alignment	</span>: 64</span><br><span class="line"><span class="attribute">address sizes	</span>: 36 bits physical, 48 bits virtual</span><br><span class="line"><span class="attribute">power management:</span></span><br></pre></td></tr></table></figure>
<p>物理cpu个数<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/cpuinfo| <span class="type">grep</span> <span class="string">"physical id"</span>| <span class="type">sort</span>| <span class="type">uniq</span>| <span class="type">wc</span> -l</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>逻辑CPU个数<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/cpuinfo| <span class="type">grep</span> <span class="string">"processor"</span>| <span class="type">wc</span> -l</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>每个CPU核数<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/cpuinfo| <span class="type">grep</span> <span class="string">"cpu cores"</span>| <span class="type">uniq</span></span><br><span class="line">cpu cores	: <span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>CPU型号<br><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat /proc/cpuinfo | <span class="type">grep</span> name | <span class="type">cut</span> -f2 -d: | <span class="type">uniq</span> -c</span><br><span class="line">      <span class="number">2</span>  Intel(R) Core(TM) i7<span class="number">-7820</span>HQ CPU @ <span class="number">2.90</span>GHz</span><br></pre></td></tr></table></figure></p>
<h2 id="查看内存信息"><a href="#查看内存信息" class="headerlink" title="查看内存信息"></a>查看内存信息</h2><figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /proc/meminfo</span></span><br><span class="line"><span class="attribute">MemTotal</span>:        1877572 kB</span><br><span class="line"><span class="attribute">MemFree</span>:         1570208 kB</span><br><span class="line"><span class="attribute">MemAvailable</span>:    1597404 kB</span><br><span class="line"><span class="attribute">Buffers</span>:            2184 kB</span><br><span class="line"><span class="attribute">Cached</span>:           149452 kB</span><br><span class="line"><span class="attribute">SwapCached</span>:            0 kB</span><br><span class="line"><span class="attribute">Active</span>:            95488 kB</span><br><span class="line"><span class="attribute">Inactive</span>:         110824 kB</span><br><span class="line"><span class="attribute">Active(anon)</span>:      55056 kB</span><br><span class="line"><span class="attribute">Inactive(anon)</span>:     8744 kB</span><br><span class="line"><span class="attribute">Active(file)</span>:      40432 kB</span><br><span class="line"><span class="attribute">Inactive(file)</span>:   102080 kB</span><br><span class="line"><span class="attribute">Unevictable</span>:           0 kB</span><br><span class="line"><span class="attribute">Mlocked</span>:               0 kB</span><br><span class="line"><span class="attribute">SwapTotal</span>:             0 kB</span><br><span class="line"><span class="attribute">SwapFree</span>:              0 kB</span><br><span class="line"><span class="attribute">Dirty</span>:                 0 kB</span><br><span class="line"><span class="attribute">Writeback</span>:             0 kB</span><br><span class="line"><span class="attribute">AnonPages</span>:         54720 kB</span><br><span class="line"><span class="attribute">Mapped</span>:            24512 kB</span><br><span class="line"><span class="attribute">Shmem</span>:              9124 kB</span><br><span class="line"><span class="attribute">Slab</span>:              50680 kB</span><br><span class="line"><span class="attribute">SReclaimable</span>:      31664 kB</span><br><span class="line"><span class="attribute">SUnreclaim</span>:        19016 kB</span><br><span class="line"><span class="attribute">KernelStack</span>:        2576 kB</span><br><span class="line"><span class="attribute">PageTables</span>:         5660 kB</span><br><span class="line"><span class="attribute">NFS_Unstable</span>:          0 kB</span><br><span class="line"><span class="attribute">Bounce</span>:                0 kB</span><br><span class="line"><span class="attribute">WritebackTmp</span>:          0 kB</span><br><span class="line"><span class="attribute">CommitLimit</span>:      938784 kB</span><br><span class="line"><span class="attribute">Committed_AS</span>:     250416 kB</span><br><span class="line"><span class="attribute">VmallocTotal</span>:   34359738367 kB</span><br><span class="line"><span class="attribute">VmallocUsed</span>:       31016 kB</span><br><span class="line"><span class="attribute">VmallocChunk</span>:   34359678972 kB</span><br><span class="line"><span class="attribute">HardwareCorrupted</span>:     0 kB</span><br><span class="line"><span class="attribute">AnonHugePages</span>:     12288 kB</span><br><span class="line"><span class="attribute">CmaTotal</span>:              0 kB</span><br><span class="line"><span class="attribute">CmaFree</span>:               0 kB</span><br><span class="line"><span class="attribute">HugePages_Total</span>:       0</span><br><span class="line"><span class="attribute">HugePages_Free</span>:        0</span><br><span class="line"><span class="attribute">HugePages_Rsvd</span>:        0</span><br><span class="line"><span class="attribute">HugePages_Surp</span>:        0</span><br><span class="line"><span class="attribute">Hugepagesize</span>:       2048 kB</span><br><span class="line"><span class="attribute">DirectMap4k</span>:       59312 kB</span><br><span class="line"><span class="attribute">DirectMap2M</span>:     2037760 kB</span><br></pre></td></tr></table></figure>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li>《循序渐进Linux-第2版》</li>
<li>《鸟哥的Linux私房菜-基础篇第四版》</li>
<li>《Linux命令行与shell脚本编程大全-第3版》</li>
<li>《Linux Shell编程艺术》</li>
<li>《学习vi和vim编辑器-第7版》</li>
<li>《Linux性能优化大师》</li>
<li>《曝光：Linux企业运维实战》</li>
<li><a href="http://man.linuxde.net/" target="_blank" rel="noopener">Linux命令大全</a> // 不是太全</li>
</ul>

      
    </div>
    
    
    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/看破Linux/" rel="tag"><i class="fa fa-tag"></i> 看破Linux</a>
          
        </div>
      


      
      

      
        
<div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-thumbs-o-up"></i>感谢您的赏阅-------------</div>

      

      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JS库 sweetalert 可修改路径 -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>作者/文章:</span><a href="/" title="访问 中华郑六 的技术博客">中华郑六</a> / <a href="/p/7919749f/">看破Linux 1.从命令入手</a></p>
  <p><span>原始链接:</span><a href="/p/7919749f/" title="看破Linux 1.从命令入手">http://tech.nitaoge.com/p/7919749f/</a>
    <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://tech.nitaoge.com/p/7919749f/" aria-label="复制成功！"></i></span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
    $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: '复制成功',
          icon: "success", 
          showConfirmButton: true
          });
    });
    });  
</script>


      

      
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>如果文章对您有用，多多少少给安排点儿</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>救我一下</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/resource/wechatpay.png" alt="中华郑六 拿微信救">
        <p>拿微信救</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/resource/alipay.png" alt="中华郑六 拿支付宝救">
        <p>拿支付宝救</p>
      </div>
    

    
      <div id="aliredpack" style="display: inline-block">
        <img id="aliredpack_qr" src="/images/resource/aliredpack.png" alt="中华郑六 薅阿里羊毛">
        <p>薅阿里羊毛</p>
      </div>
    

    

  </div>
</div>

      


      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/p/3756abdd/" rel="next" title="看破CentOS 2.安装KVM虚拟机、VNC远程桌面">
                <i class="fa fa-chevron-left"></i> 看破CentOS 2.安装KVM虚拟机、VNC远程桌面
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/p/10622d9b/" rel="prev" title="看破CentOS 3.搭建DNS服务器">
                看破CentOS 3.搭建DNS服务器 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      

    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/resource/avatar.png" alt="中华郑六">
            
              <p class="site-author-name" itemprop="name">中华郑六</p>
              <p class="site-description motion-element" itemprop="description">风尘之中多是性情中人。<br> /** <br> *底部评论请上墙 <br> *以武会友请邮件 <br>*/</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">103</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">28</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">32</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>


          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/NiTaogeTech" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:nitaogetech@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友链
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://tuna.moe/" title="清华大学TUNA协会" target="_blank">清华大学TUNA协会</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基础命令"><span class="nav-number">1.</span> <span class="nav-text">基础命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#重启-关机"><span class="nav-number">1.1.</span> <span class="nav-text">重启/关机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#man（查看帮助手册）"><span class="nav-number">1.2.</span> <span class="nav-text">man（查看帮助手册）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#enable（启用或禁用内部命令）"><span class="nav-number">1.3.</span> <span class="nav-text">enable（启用或禁用内部命令）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#type-whereis-which（命令文件所在路径）"><span class="nav-number">1.4.</span> <span class="nav-text">type/whereis/which（命令文件所在路径）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#alias-unalias（设置-取消命令别名）"><span class="nav-number">1.5.</span> <span class="nav-text">alias/unalias（设置/取消命令别名）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#date（显示或设置时间）"><span class="nav-number">1.6.</span> <span class="nav-text">date（显示或设置时间）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#文件及目录相关命令"><span class="nav-number">2.</span> <span class="nav-text">文件及目录相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ls（查看目录内容）"><span class="nav-number">2.1.</span> <span class="nav-text">ls（查看目录内容）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pwd（查看当前bash所在目录）"><span class="nav-number">2.2.</span> <span class="nav-text">pwd（查看当前bash所在目录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cd（切换目录）"><span class="nav-number">2.3.</span> <span class="nav-text">cd（切换目录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mkdir（创建目录）"><span class="nav-number">2.4.</span> <span class="nav-text">mkdir（创建目录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mktemp（创建临时文件-目录）"><span class="nav-number">2.5.</span> <span class="nav-text">mktemp（创建临时文件/目录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cp（复制）"><span class="nav-number">2.6.</span> <span class="nav-text">cp（复制）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mv（移动）"><span class="nav-number">2.7.</span> <span class="nav-text">mv（移动）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rm（删除）"><span class="nav-number">2.8.</span> <span class="nav-text">rm（删除）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#split（切分文档）"><span class="nav-number">2.9.</span> <span class="nav-text">split（切分文档）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#file（识别文件类型）"><span class="nav-number">2.10.</span> <span class="nav-text">file（识别文件类型）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#stat（显示文件状态信息）"><span class="nav-number">2.11.</span> <span class="nav-text">stat（显示文件状态信息）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#touch（改变访问-修改时间）"><span class="nav-number">2.12.</span> <span class="nav-text">touch（改变访问/修改时间）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ln（链接）"><span class="nav-number">2.13.</span> <span class="nav-text">ln（链接）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#echo-（标准输出）"><span class="nav-number">2.14.</span> <span class="nav-text">echo （标准输出）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cat（输出文件内容到标准输出）"><span class="nav-number">2.15.</span> <span class="nav-text">cat（输出文件内容到标准输出）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#more（分页显示查看文件）"><span class="nav-number">2.16.</span> <span class="nav-text">more（分页显示查看文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#head（输出文件的开始部分）"><span class="nav-number">2.17.</span> <span class="nav-text">head（输出文件的开始部分）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tail（输出文件的结尾部分）"><span class="nav-number">2.18.</span> <span class="nav-text">tail（输出文件的结尾部分）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wc（输出文件中的行数、单词数、字节数）"><span class="nav-number">2.19.</span> <span class="nav-text">wc（输出文件中的行数、单词数、字节数）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#diff（逐行对比文件差异）"><span class="nav-number">2.20.</span> <span class="nav-text">diff（逐行对比文件差异）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find（查找）"><span class="nav-number">2.21.</span> <span class="nav-text">find（查找）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#grep（文本过滤）"><span class="nav-number">2.22.</span> <span class="nav-text">grep（文本过滤）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xargs（传递参数）"><span class="nav-number">2.23.</span> <span class="nav-text">xargs（传递参数）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#压缩相关命令"><span class="nav-number">3.</span> <span class="nav-text">压缩相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#zip-unzip-zipinfo（zip格式）"><span class="nav-number">3.1.</span> <span class="nav-text">zip/unzip/zipinfo（zip格式）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gzip-gunzip（gz格式）"><span class="nav-number">3.2.</span> <span class="nav-text">gzip/gunzip（gz格式）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bzip2-bunzip2（bz2格式）"><span class="nav-number">3.3.</span> <span class="nav-text">bzip2/bunzip2（bz2格式）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tar（归档压缩工具）"><span class="nav-number">3.4.</span> <span class="nav-text">tar（归档压缩工具）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用户及组相关命令"><span class="nav-number">4.</span> <span class="nav-text">用户及组相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#su（切换用户）"><span class="nav-number">4.1.</span> <span class="nav-text">su（切换用户）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sudo（以其他用户执行命令）"><span class="nav-number">4.2.</span> <span class="nav-text">sudo（以其他用户执行命令）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#who（显示当前登录到系统的用户）"><span class="nav-number">4.3.</span> <span class="nav-text">who（显示当前登录到系统的用户）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#w（显示已经登陆系统的用户列表）"><span class="nav-number">4.4.</span> <span class="nav-text">w（显示已经登陆系统的用户列表）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#last（查看登录用户记录）"><span class="nav-number">4.5.</span> <span class="nav-text">last（查看登录用户记录）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#groupadd-groupdel（组操作）"><span class="nav-number">4.6.</span> <span class="nav-text">groupadd/groupdel（组操作）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#useradd-userdel-usermod（用户操作）"><span class="nav-number">4.7.</span> <span class="nav-text">useradd/userdel/usermod（用户操作）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#passwd（设置用户密码）"><span class="nav-number">4.8.</span> <span class="nav-text">passwd（设置用户密码）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#chown-chmod（文件权限设置）"><span class="nav-number">4.9.</span> <span class="nav-text">chown/chmod（文件权限设置）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#umask（文件创建权限注销码）"><span class="nav-number">4.10.</span> <span class="nav-text">umask（文件创建权限注销码）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#磁盘相关命令"><span class="nav-number">5.</span> <span class="nav-text">磁盘相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#df（查看系统的磁盘使用情况）"><span class="nav-number">5.1.</span> <span class="nav-text">df（查看系统的磁盘使用情况）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#du（查看目录的磁盘使用情况）"><span class="nav-number">5.2.</span> <span class="nav-text">du（查看目录的磁盘使用情况）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sync（强迫将内存数据写入磁盘，并更新超级块）"><span class="nav-number">5.3.</span> <span class="nav-text">sync（强迫将内存数据写入磁盘，并更新超级块）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#eject（弹出设备）"><span class="nav-number">5.4.</span> <span class="nav-text">eject（弹出设备）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#网络相关命令"><span class="nav-number">6.</span> <span class="nav-text">网络相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ifconfig（显示网络接口信息）"><span class="nav-number">6.1.</span> <span class="nav-text">ifconfig（显示网络接口信息）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#telnet（使用telnet协议探测主机端口）"><span class="nav-number">6.2.</span> <span class="nav-text">telnet（使用telnet协议探测主机端口）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#netstat（查看网络连接状态）"><span class="nav-number">6.3.</span> <span class="nav-text">netstat（查看网络连接状态）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wget（从指定URL下载文件）"><span class="nav-number">6.4.</span> <span class="nav-text">wget（从指定URL下载文件）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scp（远程复制）"><span class="nav-number">6.5.</span> <span class="nav-text">scp（远程复制）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#软件安装相关命令"><span class="nav-number">7.</span> <span class="nav-text">软件安装相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#rpm（软件包安装）"><span class="nav-number">7.1.</span> <span class="nav-text">rpm（软件包安装）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#yum（repo源安装）"><span class="nav-number">7.2.</span> <span class="nav-text">yum（repo源安装）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进程相关命令"><span class="nav-number">8.</span> <span class="nav-text">进程相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#crontab（任务调度工具）"><span class="nav-number">8.1.</span> <span class="nav-text">crontab（任务调度工具）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nohup-和-amp-（后台运行）"><span class="nav-number">8.2.</span> <span class="nav-text">nohup 和 &amp; （后台运行）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#kill（关闭进程）"><span class="nav-number">8.3.</span> <span class="nav-text">kill（关闭进程）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lsof（进程查看工具）"><span class="nav-number">8.4.</span> <span class="nav-text">lsof（进程查看工具）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ps（查看进程状态）"><span class="nav-number">8.5.</span> <span class="nav-text">ps（查看进程状态）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#top-（系统实时监控工具）"><span class="nav-number">8.6.</span> <span class="nav-text">top （系统实时监控工具）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nice-renice（设置进程友好程度）"><span class="nav-number">8.7.</span> <span class="nav-text">nice/renice（设置进程友好程度）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#系统相关命令"><span class="nav-number">9.</span> <span class="nav-text">系统相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#uname（显示操作系统相关信息）"><span class="nav-number">9.1.</span> <span class="nav-text">uname（显示操作系统相关信息）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#uptime（显示系统负载）"><span class="nav-number">9.2.</span> <span class="nav-text">uptime（显示系统负载）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dmesg（查看开机信息）"><span class="nav-number">9.3.</span> <span class="nav-text">dmesg（查看开机信息）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#free（查看内存使用情况）"><span class="nav-number">9.4.</span> <span class="nav-text">free（查看内存使用情况）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#硬件设备相关命令"><span class="nav-number">10.</span> <span class="nav-text">硬件设备相关命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#查看PCI设备"><span class="nav-number">10.1.</span> <span class="nav-text">查看PCI设备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看CPU信息"><span class="nav-number">10.2.</span> <span class="nav-text">查看CPU信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查看内存信息"><span class="nav-number">10.3.</span> <span class="nav-text">查看内存信息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考资料"><span class="nav-number">11.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="heart">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">What are u prepare todo?</span>
</div>


  <div class="footer-custom"><a target="_blank" href="http://www.miitbeian.gov.cn">辽ICP备17001238号</a><span style="margin:0 1em;">|</span><span id="runday">运行时长加载中...</span><span id="runtime"></span></div>










        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访客
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 访问
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">码字&#58;</span>
    
    <span title="码字">71k</span>
  

</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>













  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/custom/clickshzy.js?v=0.0.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/custom/runtime.js?v=0.0.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/custom/clipboard.min.js?v=0.0.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/custom/clipboard-btn.js?v=0.0.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://NiTaogeTech.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://tech.nitaoge.com/p/7919749f/';
          this.page.identifier = 'p/7919749f/';
          this.page.title = '看破Linux 1.从命令入手';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://NiTaogeTech.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  


</body>
</html>
